{"version":3,"file":"static/js/6876.aa3d309a.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/CircularArray.js","../node_modules/@arcgis/core/views/2d/layers/features/FeatureStore2D.js","../node_modules/@arcgis/core/views/2d/layers/features/Store2D.js","../node_modules/@arcgis/core/views/2d/arcade/callExpressionWithCursor.js","../node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBFIndirect.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"./maybe.js\";class s{constructor(t){this.size=0,this._start=0,this.maxSize=t,this._buffer=new Array(t)}get entries(){return this._buffer}enqueue(t){if(this.size===this.maxSize){const s=this._buffer[this._start];return this._buffer[this._start]=t,this._start=(this._start+1)%this.maxSize,s}return this._buffer[(this._start+this.size++)%this.maxSize]=t,null}dequeue(){if(0===this.size)return null;const t=this._buffer[this._start];return this._buffer[this._start]=null,this.size--,this._start=(this._start+1)%this.maxSize,t}peek(){return 0===this.size?null:this._buffer[this._start]}find(s){if(0===this.size)return null;for(const e of this._buffer)if(t(e)&&s(e))return e;return null}clear(s){let e=this.dequeue();for(;t(e);)s&&s(e),e=this.dequeue()}}export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/CircularArray.js\";import e from\"../../../../core/Evented.js\";import\"../../../../core/has.js\";import{isNone as s,isSome as a,unwrap as r}from\"../../../../core/maybe.js\";import{r as n}from\"../../../../chunks/rbush.js\";import{create as i,fromRectValues as o}from\"../../../../geometry/support/aaBoundingBox.js\";import{Store2D as d}from\"./Store2D.js\";import{FeatureSetReaderIndirect as h}from\"./support/FeatureSetReaderPBFIndirect.js\";const c=i();function I(t,e){return t<<16|e}function u(t){return(4294901760&t)>>>16}function l(t){return 65535&t}const p={getObjectId:t=>t.getObjectId(),getAttributes:t=>t.readAttributes(),getAttribute:(t,e)=>t.readAttribute(e),cloneWithGeometry:(t,e)=>t,getGeometry:t=>t.readHydratedGeometry(),getCentroid:(t,e)=>t.readCentroid()};class g extends d{constructor(s,a,r){super(s,a),this.featureAdapter=p,this.events=new e,this._featureSetsByInstance=new Map,this._objectIdToDisplayId=new Map,this._spatialIndexInvalid=!0,this._indexSearchCache=new t(50),this._index=n(9,(t=>({minX:this._storage.getXMin(t),minY:this._storage.getYMin(t),maxX:this._storage.getXMax(t),maxY:this._storage.getYMax(t)}))),this.mode=r}get storeStatistics(){let t=0,e=0,s=0;return this.forEach((a=>{const r=a.readGeometry();r&&(e+=r.isPoint?1:r.lengths.reduce(((t,e)=>t+e),0),s+=r.isPoint?1:r.lengths.length,t+=1)})),{featureCount:t,vertexCount:e,ringCount:s}}hasInstance(t){return this._featureSetsByInstance.has(t)}onTileData(t,e){if(s(e.addOrUpdate))return e;if(e.addOrUpdate.attachStorage(this._storage),\"snapshot\"===this.mode){const s=e.addOrUpdate.getCursor();for(;s.next();){const e=s.getDisplayId();this.setComputedAttributes(this._storage,s,e,t.scale)}return e}this._featureSetsByInstance.set(e.addOrUpdate.instance,e.addOrUpdate);const a=e.addOrUpdate.getCursor();for(;a.next();)this._insertFeature(a,t.scale);return this._spatialIndexInvalid=!0,this.events.emit(\"changed\"),e}search(t){this._rebuildIndex();const e=t.id,s=this._indexSearchCache.find((t=>t.tileId===e));if(a(s))return s.readers;const r=new Map,n=this._searchIndex(t.bounds),i=[];for(const a of n){const t=this._storage.getInstanceId(a),e=u(t),s=l(t);r.has(e)||r.set(e,[]);r.get(e).push(s)}return r.forEach(((t,e)=>{const s=this._featureSetsByInstance.get(e);i.push(h.from(s,t))})),this._indexSearchCache.enqueue({tileId:e,readers:i}),i}insert(t){const e=t.getCursor(),s=this._storage;for(;e.next();){const t=I(e.instance,e.getIndex()),a=e.getObjectId(),r=this._objectIdToDisplayId.get(a)??this._storage.createDisplayId();e.setDisplayId(r),s.setInstanceId(r,t),this._objectIdToDisplayId.set(a,r)}this._featureSetsByInstance.set(t.instance,t),this._spatialIndexInvalid=!0}remove(t){const e=this._objectIdToDisplayId.get(t);if(!e)return;const s=this._storage.getInstanceId(e),a=l(s),r=u(s),n=this._featureSetsByInstance.get(r);this._objectIdToDisplayId.delete(t),this._storage.releaseDisplayId(e),n.removeAtIndex(a),n.isEmpty&&this._featureSetsByInstance.delete(r),this._spatialIndexInvalid=!0}forEach(t){this._objectIdToDisplayId.forEach((e=>{const s=this._storage.getInstanceId(e),a=this._lookupFeature(s);t(a)}))}forEachUnsafe(t){this._objectIdToDisplayId.forEach((e=>{const s=this._storage.getInstanceId(e),a=u(s),r=l(s),n=this._getFeatureSet(a);n.setIndex(r),t(n)}))}forEachInBounds(t,e){const s=this._searchIndex(t);for(const a of s){const t=this.lookupFeatureByDisplayId(a,this._storage);e(r(t))}}forEachBounds(t,e){this._rebuildIndex();for(const s of t){if(!s.readGeometry())continue;const t=s.getDisplayId();o(c,this._storage.getXMin(t),this._storage.getYMin(t),this._storage.getXMax(t),this._storage.getYMax(t)),e(c)}}sweepFeatures(t,e,s){this._spatialIndexInvalid=!0,this._objectIdToDisplayId.forEach(((a,r)=>{t.has(a)||(e.releaseDisplayId(a),s&&s.unsetAttributeData(a),this._objectIdToDisplayId.delete(r))})),this.events.emit(\"changed\")}sweepFeatureSets(t){this._spatialIndexInvalid=!0,this._featureSetsByInstance.forEach(((e,s)=>{t.has(s)||this._featureSetsByInstance.delete(s)}))}lookupObjectId(t,e){const a=this.lookupFeatureByDisplayId(t,e);return s(a)?null:a.getObjectId()}lookupDisplayId(t){return this._objectIdToDisplayId.get(t)}lookupFeatureByDisplayId(t,e){const s=e.getInstanceId(t);return this._lookupFeature(s)}lookupByDisplayIdUnsafe(t){const e=this._storage.getInstanceId(t),s=u(e),a=l(e),r=this._getFeatureSet(s);return r?(r.setIndex(a),r):null}_insertFeature(t,e){const s=this._storage,a=t.getObjectId(),r=I(t.instance,t.getIndex());s.getInstanceId(t.getDisplayId());let n=this._objectIdToDisplayId.get(a);n||(n=s.createDisplayId(),this._objectIdToDisplayId.set(a,n),this._spatialIndexInvalid=!0),t.setDisplayId(n),s.setInstanceId(n,r),this.setComputedAttributes(s,t,n,e)}_searchIndex(t){this._rebuildIndex();const e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this._index.search(e)}_rebuildIndex(){if(!this._spatialIndexInvalid)return;const t=[];\"snapshot\"===this.mode?this._featureSetsByInstance.forEach((e=>{const s=e.getCursor();for(;s.next();){const e=s.getDisplayId();this._storage.setBounds(e,s)&&t.push(e)}})):this._objectIdToDisplayId.forEach((e=>{const s=this._storage.getInstanceId(e);this._storage.setBounds(e,this._lookupFeature(s))&&t.push(e)})),this._index.clear(),this._index.load(t),this._indexSearchCache.clear(),this._spatialIndexInvalid=!1}_lookupFeature(t){const e=u(t),s=this._getFeatureSet(e);if(!s)return;const a=s.getCursor(),r=l(t);return a.setIndex(r),a}_getFeatureSet(t){return this._featureSetsByInstance.get(t)}}export{g as FeatureStore2D,p as featureAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{isNone as e,isSome as s}from\"../../../../core/maybe.js\";import{diff as t,hasDiff as i}from\"../../../../core/accessorSupport/diffUtils.js\";import{createRendererExpression as r}from\"../../../../support/arcadeOnDemand.js\";import a from\"../../arcade/callExpressionWithCursor.js\";const o=import(\"../../../../layers/support/labelFormatUtils.js\");class c{constructor(e,s){this._canCacheExpressionValue=!1,this._sourceInfo=e,this._storage=s,this._bitsets={computed:s.getBitset(s.createBitset())}}get storage(){return this._storage}invalidate(){this._bitsets.computed.clear()}async updateSchema(r,a){const o=t(this._schema,a);if(this._schema=a,!a||e(o)||!i(o,\"attributes\"))return;has(\"esri-2d-update-debug\")&&console.debug(\"Applying Update - Store:\",o),this._bitsets.computed.clear(),r.targets[a.name]=!0;const c=a.attributes,n=[],p=[];for(const e in c){const s=c[e];switch(s.type){case\"field\":break;case\"expression\":n.push(this._createArcadeComputedField(s));break;case\"label-expression\":n.push(this._createLabelArcadeComputedField(s));break;case\"statistic\":p.push(s)}}this._computedFields=await Promise.all(n),this._canCacheExpressionValue=!this._computedFields.some((e=>\"expression\"===e.type&&s(e.expression)&&e.expression.referencesScale())),this._statisticFields=p}setComputedAttributes(e,s,t,i){const r=this._bitsets.computed;if(!this._canCacheExpressionValue||!r.has(t)){r.set(t);for(const r of this._computedFields){const a=this._evaluateField(s,r,i);switch(r.resultType){case\"numeric\":e.setComputedNumericAtIndex(t,r.fieldIndex,a);break;case\"string\":e.setComputedStringAtIndex(t,r.fieldIndex,a)}}}}async _createArcadeComputedField(e){const s=this._sourceInfo.spatialReference,t=this._sourceInfo.fieldsIndex;return{...e,expression:await r(e.valueExpression,s,t)}}async _createLabelArcadeComputedField(e){const s=this._sourceInfo.spatialReference,t=this._sourceInfo.fieldsIndex,{createLabelFunction:i}=await o,r=await i(e.label,t,s);return{...e,builder:r}}_evaluateField(e,s,t){switch(s.type){case\"label-expression\":{const t=e.readArcadeFeature();return s.builder.evaluate(t)||\"\"}case\"expression\":{const{expression:i}=s;return a(i,e,{$view:{scale:t}})}}}}export{c as Store2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Logger.js\";import{isNone as r}from\"../../../core/maybe.js\";function a(a,t,o){if(r(a))return null;const u=t.readArcadeFeature();try{return a.evaluate({...o,$feature:u})}catch(n){return e.getLogger(\"esri.views.2d.support.arcadeOnDemand\").warn(\"Feature arcade evaluation failed:\",n),null}}export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{FeatureSetReader as e}from\"./FeatureSetReader.js\";class r extends e{static from(e,t){return new r(e.copy(),t)}constructor(r,t){super(e.createInstance(),r.fullSchema()),this._currentIndex=-1,this._reader=r,this._indices=t}get hasNext(){return this._currentIndex+1<this._indices.length}getSize(){return this._indices.length}getCursor(){return this.copy()}copy(){const e=new r(this._reader.copy(),this._indices);return e._currentIndex=this._currentIndex,e}next(){for(;this._nextIndex()&&!this._reader._getExists(););return this._currentIndex<this._indices.length}_nextIndex(){return++this._currentIndex<this._indices.length&&(this._reader.setIndex(this._indices[this._currentIndex]),!0)}setArcadeSpatialReference(e){this._reader.setArcadeSpatialReference(e)}attachStorage(e){this._reader.attachStorage(e)}get geometryType(){return this._reader.geometryType}get hasFeatures(){return this._reader.hasFeatures}get exceededTransferLimit(){return this._reader.exceededTransferLimit}get hasZ(){return this._reader.hasZ}get hasM(){return this._reader.hasM}getStorage(){return this._reader.getStorage()}getComputedNumeric(e){return this._reader.getComputedNumericAtIndex(0)}setComputedNumeric(e,r){return this._reader.setComputedNumericAtIndex(r,0)}getComputedString(e){return this._reader.getComputedStringAtIndex(0)}setComputedString(e,r){return this._reader.setComputedStringAtIndex(0,r)}getComputedNumericAtIndex(e){return this._reader.getComputedNumericAtIndex(e)}setComputedNumericAtIndex(e,r){this._reader.setComputedNumericAtIndex(e,r)}getComputedStringAtIndex(e){return this._reader.getComputedStringAtIndex(e)}setComputedStringAtIndex(e,r){return this._reader.setComputedStringAtIndex(e,r)}transform(e,r,t,d){const a=this.copy();return a._reader=this._reader.transform(e,r,t,d),a}readAttribute(e,r=!1){return this._reader.readAttribute(e,r)}readAttributes(){return this._reader.readAttributes()}joinAttributes(e){return this._reader.joinAttributes(e)}readArcadeFeature(){return this._reader.readArcadeFeature()}geometry(){return this._reader.geometry()}field(e){return this.readAttribute(e,!0)}hasField(e){return this._reader.hasField(e)}setField(e,r){return this._reader.setField(e,r)}keys(){return this._reader.keys()}castToText(e=!1){return this._reader.castToText(e)}getQuantizationTransform(){return this._reader.getQuantizationTransform()}getFieldNames(){return this._reader.getFieldNames()}getAttributeHash(){return this._reader.getAttributeHash()}getObjectId(){return this._reader.getObjectId()}getDisplayId(){return this._reader.getDisplayId()}setDisplayId(e){return this._reader.setDisplayId(e)}getGroupId(){return this._reader.getGroupId()}setGroupId(e){return this._reader.setGroupId(e)}getXHydrated(){return this._reader.getXHydrated()}getYHydrated(){return this._reader.getYHydrated()}getX(){return this._reader.getX()}getY(){return this._reader.getY()}setIndex(e){return this._reader.setIndex(e)}getIndex(){return this._reader.getIndex()}readLegacyFeature(){return this._reader.readLegacyFeature()}readOptimizedFeature(){return this._reader.readOptimizedFeature()}readLegacyPointGeometry(){return this._reader.readLegacyPointGeometry()}readLegacyGeometry(){return this._reader.readLegacyGeometry()}readLegacyCentroid(){return this._reader.readLegacyCentroid()}readGeometryArea(){return this._reader.readGeometryArea()}readUnquantizedGeometry(){return this._reader.readUnquantizedGeometry()}readHydratedGeometry(){return this._reader.readHydratedGeometry()}readGeometry(){return this._reader.readGeometry()}readCentroid(){return this._reader.readCentroid()}_readAttribute(e,r){throw new Error(\"Error: Should not be called. Underlying _reader should be used instead\")}_readAttributes(){throw new Error(\"Error: Should not be called. Underlying _reader should be used instead\")}}export{r as FeatureSetReaderIndirect};\n"],"names":["s","t","_classCallCheck","this","size","_start","maxSize","_buffer","Array","_createClass","key","get","value","_step","_iterator","_createForOfIteratorHelper","n","done","e","err","f","dequeue","c","i","I","u","l","p","getObjectId","getAttributes","readAttributes","getAttribute","readAttribute","cloneWithGeometry","getGeometry","readHydratedGeometry","getCentroid","readCentroid","g","_d","_inherits","_super","_createSuper","a","r","_this","call","featureAdapter","events","_featureSetsByInstance","Map","_objectIdToDisplayId","_spatialIndexInvalid","_indexSearchCache","_index","minX","_storage","getXMin","minY","getYMin","maxX","getXMax","maxY","getYMax","mode","forEach","readGeometry","isPoint","lengths","reduce","length","featureCount","vertexCount","ringCount","has","addOrUpdate","attachStorage","getCursor","next","getDisplayId","setComputedAttributes","scale","set","instance","_insertFeature","emit","_this2","_rebuildIndex","id","find","tileId","readers","_searchIndex","bounds","getInstanceId","push","h","enqueue","_this$_objectIdToDisp","getIndex","createDisplayId","setDisplayId","setInstanceId","delete","releaseDisplayId","removeAtIndex","isEmpty","_this3","_lookupFeature","_this4","_getFeatureSet","setIndex","_step2","_iterator2","lookupFeatureByDisplayId","_step3","_iterator3","o","_this5","unsetAttributeData","_this6","search","_this7","setBounds","clear","load","d","_canCacheExpressionValue","_sourceInfo","_bitsets","computed","getBitset","createBitset","_updateSchema","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_c","_e","_s","wrap","_context","prev","_schema","abrupt","console","debug","targets","name","attributes","t0","keys","t1","t2","type","_createArcadeComputedField","_createLabelArcadeComputedField","Promise","all","_computedFields","sent","some","expression","referencesScale","_statisticFields","stop","_x","_x2","apply","arguments","_evaluateField","resultType","setComputedNumericAtIndex","fieldIndex","setComputedStringAtIndex","_createArcadeComputedField2","_callee2","_context2","spatialReference","fieldsIndex","_objectSpread","valueExpression","t3","t4","_x3","_createLabelArcadeComputedField2","_callee3","_yield$o","_context3","createLabelFunction","label","builder","_x4","readArcadeFeature","evaluate","$feature","warn","$view","fullSchema","_currentIndex","_reader","_indices","copy","_nextIndex","_getExists","setArcadeSpatialReference","geometryType","hasFeatures","exceededTransferLimit","hasZ","hasM","getStorage","getComputedNumericAtIndex","getComputedStringAtIndex","transform","undefined","joinAttributes","geometry","hasField","setField","castToText","getQuantizationTransform","getFieldNames","getAttributeHash","getGroupId","setGroupId","getXHydrated","getYHydrated","getX","getY","readLegacyFeature","readOptimizedFeature","readLegacyPointGeometry","readLegacyGeometry","readLegacyCentroid","readGeometryArea","readUnquantizedGeometry","Error"],"sourceRoot":""}