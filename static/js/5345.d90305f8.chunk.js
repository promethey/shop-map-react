"use strict";(self.webpackChunkshop_map_react=self.webpackChunkshop_map_react||[]).push([[5345],{96212:function(t,e,r){r.d(e,{Z:function(){return M}});var n,i=r(37762),a=r(29439),l=r(15671),o=r(43144),s=r(60136),h=r(29388),u=r(27366),f=r(10064),c=r(46784),p=r(84652),v=r(32718),d=r(92026),g=r(49861),m=r(89125),x=r(69912),y=(0,o.Z)((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,l.Z)(this,t),this.minValue=e,this.maxValue=r,this.noDataValue=n})),w=r(92089),k=n=function(t){(0,s.Z)(r,t);var e=(0,h.Z)(r);function r(t){var n;return(0,l.Z)(this,r),(n=e.call(this,t)).width=null,n.height=null,n.pixelType="f32",n.validPixelCount=null,n.mask=null,n.maskIsAlpha=!1,n.premultiplyAlpha=!1,n.statistics=null,n.depthCount=1,n}return(0,o.Z)(r,[{key:"castPixelType",value:function(t){if(!t)return"f32";var e=t.toLowerCase();return["u1","u2","u4"].includes(e)?e="u8":["unknown","u8","s8","u16","s16","u32","s32","f32","f64"].includes(e)||(e="f32"),e}},{key:"getPlaneCount",value:function(){var t;return null===(t=this.pixels)||void 0===t?void 0:t.length}},{key:"addData",value:function(t){var e;if(!t.pixels||t.pixels.length!==this.width*this.height)throw new f.Z("pixelblock:invalid-or-missing-pixels","add data requires valid pixels array that has same length defined by pixel block width * height");this.pixels||(this.pixels=[]),this.statistics||(this.statistics=[]),this.pixels.push(t.pixels),this.statistics.push(null!==(e=t.statistics)&&void 0!==e?e:new y)}},{key:"getAsRGBA",value:function(){var t=new ArrayBuffer(this.width*this.height*4);switch(this.pixelType){case"s8":case"s16":case"u16":case"s32":case"u32":case"f32":case"f64":this._fillFromNon8Bit(t);break;default:this._fillFrom8Bit(t)}return new Uint8ClampedArray(t)}},{key:"getAsRGBAFloat",value:function(){var t=new Float32Array(this.width*this.height*4);return this._fillFrom32Bit(t),t}},{key:"updateStatistics",value:function(){var t=this;if(this.pixels){this.statistics=this.pixels.map((function(e){return t._calculateBandStatistics(e,t.mask)}));var e=this.mask,r=0;if((0,d.pC)(e))for(var n=0;n<e.length;n++)e[n]&&r++;else r=this.width*this.height;this.validPixelCount=r}}},{key:"clamp",value:function(t){if(t&&"f64"!==t&&"f32"!==t&&this.pixels){for(var e,r,i,l=(0,w.r)(t),o=(0,a.Z)(l,2),s=o[0],h=o[1],u=this.pixels,f=this.width*this.height,c=u.length,p=[],v=0;v<c;v++){i=n.createEmptyBand(t,f),e=u[v];for(var d=0;d<f;d++)r=e[d],i[d]=r>h?h:r<s?s:r;p.push(i)}this.pixels=p,this.pixelType=t}}},{key:"extractBands",value:function(t){var e=this.pixels,r=this.statistics;if((0,d.Wi)(t)||0===t.length||!e||0===e.length)return this;var i=e.length,a=t.some((function(t){return t>=e.length})),l=i===t.length&&!t.some((function(t,e){return t!==e}));return a||l?this:new n({pixelType:this.pixelType,width:this.width,height:this.height,mask:this.mask,validPixelCount:this.validPixelCount,maskIsAlpha:this.maskIsAlpha,pixels:t.map((function(t){return e[t]})),statistics:r&&t.map((function(t){return r[t]}))})}},{key:"clone",value:function(){var t,e=new n({width:this.width,height:this.height,pixelType:this.pixelType,maskIsAlpha:this.maskIsAlpha,validPixelCount:this.validPixelCount});(0,d.pC)(this.mask)&&(this.mask instanceof Uint8Array?e.mask=new Uint8Array(this.mask):e.mask=this.mask.slice(0));var r=n.getPixelArrayConstructor(this.pixelType);if(this.pixels&&this.pixels.length>0){e.pixels=[];var i=!!this.pixels[0].slice;for(t=0;t<this.pixels.length;t++)e.pixels[t]=i?this.pixels[t].slice(0,this.pixels[t].length):new r(this.pixels[t])}if(this.statistics)for(e.statistics=[],t=0;t<this.statistics.length;t++)e.statistics[t]=(0,p.d9)(this.statistics[t]);return e.premultiplyAlpha=this.premultiplyAlpha,e}},{key:"_fillFrom8Bit",value:function(t){var e=this.mask,r=this.maskIsAlpha,n=this.premultiplyAlpha,i=this.pixels;if(t&&i&&i.length){var a,l,o,s;a=l=o=i[0],i.length>=3?(l=i[1],o=i[2]):2===i.length&&(l=i[1]);var h=new Uint32Array(t),u=this.width*this.height;if(a.length===u)if((0,d.pC)(e)&&e.length===u)if(r)for(s=0;s<u;s++){var f=e[s];if(f){var c=f/255;h[s]=n?f<<24|o[s]*c<<16|l[s]*c<<8|a[s]*c:f<<24|o[s]<<16|l[s]<<8|a[s]}}else for(s=0;s<u;s++)e[s]&&(h[s]=255<<24|o[s]<<16|l[s]<<8|a[s]);else for(s=0;s<u;s++)h[s]=255<<24|o[s]<<16|l[s]<<8|a[s];else v.Z.getLogger(this.declaredClass).error("getAsRGBA()","Unable to convert to RGBA. The pixelblock is invalid.")}else v.Z.getLogger(this.declaredClass).error("getAsRGBA()","Unable to convert to RGBA. The input pixel block is empty.")}},{key:"_fillFromNon8Bit",value:function(t){var e=this.pixels,r=this.mask,n=this.statistics;if(t&&e&&e.length){var a=this.pixelType,l=1,o=0,s=1;if(n&&n.length>0){var h,u=(0,i.Z)(n);try{for(u.s();!(h=u.n()).done;){var f=h.value;if(null!=f.minValue&&(o=Math.min(o,f.minValue)),null!=f.maxValue&&null!=f.minValue){var c=f.maxValue-f.minValue;s=Math.max(s,c)}}}catch(A){u.e(A)}finally{u.f()}l=255/s}else{var p=255;"s8"===a?(o=-128,p=127):"u16"===a?p=65535:"s16"===a?(o=-32768,p=32767):"u32"===a?p=4294967295:"s32"===a?(o=-2147483648,p=2147483647):"f32"===a?(o=-34e38,p=34e38):"f64"===a&&(o=-Number.MAX_VALUE,p=Number.MAX_VALUE),l=255/(p-o)}var g,m,x,y,w,k=new Uint32Array(t),M=this.width*this.height;if((g=m=x=e[0]).length!==M)return v.Z.getLogger(this.declaredClass).error("getAsRGBA()","Unable to convert to RGBA. The pixelblock is invalid.");if(e.length>=2)if(m=e[1],e.length>=3&&(x=e[2]),(0,d.pC)(r)&&r.length===M)for(y=0;y<M;y++)r[y]&&(k[y]=255<<24|(x[y]-o)*l<<16|(m[y]-o)*l<<8|(g[y]-o)*l);else for(y=0;y<M;y++)k[y]=255<<24|(x[y]-o)*l<<16|(m[y]-o)*l<<8|(g[y]-o)*l;else if((0,d.pC)(r)&&r.length===M)for(y=0;y<M;y++)w=(g[y]-o)*l,r[y]&&(k[y]=255<<24|w<<16|w<<8|w);else for(y=0;y<M;y++)w=(g[y]-o)*l,k[y]=255<<24|w<<16|w<<8|w}else v.Z.getLogger(this.declaredClass).error("getAsRGBA()","Unable to convert to RGBA. The input pixel block is empty.")}},{key:"_fillFrom32Bit",value:function(t){var e,r,n,i,a=this.pixels,l=this.mask;if(!t||!a||!a.length)return v.Z.getLogger(this.declaredClass).error("getAsRGBAFloat()","Unable to convert to RGBA. The input pixel block is empty.");e=r=n=a[0],a.length>=3?(r=a[1],n=a[2]):2===a.length&&(r=a[1]);var o=this.width*this.height;if(e.length!==o)return v.Z.getLogger(this.declaredClass).error("getAsRGBAFloat()","Unable to convert to RGBA. The pixelblock is invalid.");var s=0;if((0,d.pC)(l)&&l.length===o)for(i=0;i<o;i++)t[s++]=e[i],t[s++]=r[i],t[s++]=n[i],t[s++]=1&l[i];else for(i=0;i<o;i++)t[s++]=e[i],t[s++]=r[i],t[s++]=n[i],t[s++]=1}},{key:"_calculateBandStatistics",value:function(t,e){var r,n=1/0,i=-1/0,a=t.length,l=0;if((0,d.pC)(e))for(r=0;r<a;r++)e[r]&&(n=(l=t[r])<n?l:n,i=l>i?l:i);else for(r=0;r<a;r++)n=(l=t[r])<n?l:n,i=l>i?l:i;return new y(n,i)}}],[{key:"createEmptyBand",value:function(t,e){return new(n.getPixelArrayConstructor(t))(e)}},{key:"getPixelArrayConstructor",value:function(t){var e;switch(t){case"u1":case"u2":case"u4":case"u8":e=Uint8Array;break;case"u16":e=Uint16Array;break;case"u32":e=Uint32Array;break;case"s8":e=Int8Array;break;case"s16":e=Int16Array;break;case"s32":e=Int32Array;break;case"f32":case"c64":case"c128":case"unknown":e=Float32Array;break;case"f64":e=Float64Array}return e}}]),r}(c.wq);(0,u._)([(0,g.Cb)({json:{write:!0}})],k.prototype,"width",void 0),(0,u._)([(0,g.Cb)({json:{write:!0}})],k.prototype,"height",void 0),(0,u._)([(0,g.Cb)({json:{write:!0}})],k.prototype,"pixelType",void 0),(0,u._)([(0,m.p)("pixelType")],k.prototype,"castPixelType",null),(0,u._)([(0,g.Cb)({json:{write:!0}})],k.prototype,"validPixelCount",void 0),(0,u._)([(0,g.Cb)({json:{write:!0}})],k.prototype,"mask",void 0),(0,u._)([(0,g.Cb)({json:{write:!0}})],k.prototype,"maskIsAlpha",void 0),(0,u._)([(0,g.Cb)({json:{write:!0}})],k.prototype,"pixels",void 0),(0,u._)([(0,g.Cb)()],k.prototype,"premultiplyAlpha",void 0),(0,u._)([(0,g.Cb)({json:{write:!0}})],k.prototype,"statistics",void 0),(0,u._)([(0,g.Cb)({json:{write:!0}})],k.prototype,"depthCount",void 0),(0,u._)([(0,g.Cb)({json:{write:!0}})],k.prototype,"noDataValues",void 0),(0,u._)([(0,g.Cb)({json:{write:!0}})],k.prototype,"bandMasks",void 0);var M=k=n=(0,u._)([(0,x.j)("esri.layers.support.PixelBlock")],k)},92089:function(t,e,r){r.d(e,{A:function(){return o},r:function(){return l}});var n=9999999e31,i=2e-7,a={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34028234663852886e22,34028234663852886e22],f64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function l(t){var e;return null!==(e=a[t])&&void 0!==e?e:[-34028234663852886e22,34028234663852886e22]}function o(t,e,r){var a,o;if(!(t.depthCount&&t.depthCount>1)){for(var s=t.pixels,h=t.statistics,u=t.pixelType,f=s[0].length,c=null!==(a=t.bandMasks)&&void 0!==a?a:[],p=null!==(o=t.mask)&&void 0!==o?o:new Uint8Array(f).fill(255),v="f32"===u||"f64"===u,d=l(u),g=!1,m=0;m<s.length;m++){var x,y,w="number"==typeof e?e:e[m];if(null!=w){var k=null!==(x=null===h||void 0===h?void 0:h[m].minValue)&&void 0!==x?x:d[0],M=null!==(y=null===h||void 0===h?void 0:h[m].maxValue)&&void 0!==y?y:d[1];if(!(k>w+Number.EPSILON||M<w-Number.EPSILON)){var A=c[m]||new Uint8Array(f).fill(255),b=s[m],Z=null===r||void 0===r?void 0:r.customFloatTolerance;if(v&&0!==Z){var C=Z;C||(C=Math.abs(w)>=n?i*Math.abs(w):"f32"===u?Math.pow(2,-23):Number.EPSILON);for(var U=0;U<b.length;U++)A[U]&&Math.abs(b[U]-w)<C&&(b[U]=0,A[U]=0,p[U]=0,g=!0)}else for(var P=0;P<b.length;P++)A[P]&&b[P]===w&&(b[P]=0,A[P]=0,p[P]=0,g=!0);c[m]=A}}}g&&(t.bandMasks=c,t.mask=p),g&&"updateStatistics"in t&&t.updateStatistics()}}},17314:function(t,e,r){r.d(e,{CD:function(){return i},DX:function(){return n},Gd:function(){return v},Kh:function(){return U},Pz:function(){return d},Qh:function(){return R},SJ:function(){return g},Uk:function(){return W},Vl:function(){return D},XV:function(){return m},a2:function(){return w},hd:function(){return f},nA:function(){return C},nk:function(){return c},oB:function(){return Z},pW:function(){return I},qF:function(){return p},sS:function(){return b},us:function(){return T},wV:function(){return x},zp:function(){return y}});var n,i,a,l=r(29439),o=r(93433),s=r(92026),h=r(96212),u=r(92089);(a=n||(n={}))[a.matchAny=0]="matchAny",a[a.matchAll=1]="matchAll",function(t){t[t.bestMatch=0]="bestMatch",t[t.fail=1]="fail"}(i||(i={}));var f=6;function c(t){return(0,s.pC)(t)&&"esri.layers.support.PixelBlock"===t.declaredClass&&t.pixels&&t.pixels.length>0}function p(t,e){if(null===e||void 0===e||!e.length||!c(t))return t;var r=t.pixels.length;return e&&e.some((function(t){return t>=r}))||1===r&&1===e.length&&0===e[0]?t:r!==e.length||e.some((function(t,e){return t!==e}))?new h.Z({pixelType:t.pixelType,width:t.width,height:t.height,mask:t.mask,validPixelCount:t.validPixelCount,maskIsAlpha:t.maskIsAlpha,pixels:e.map((function(e){return t.pixels[e]})),statistics:t.statistics&&e.map((function(e){return t.statistics[e]}))}):t}function v(t){if(null===t||void 0===t||!t.length||t.some((function(t){return!c(t)})))return null;if(1===t.length)return(0,s.pC)(t[0])?t[0].clone():null;var e=t,r=e[0],n=r.width,i=r.height,a=r.pixelType;if(e.some((function(t){return t.width!==n||t.height!==i})))return null;var l=e.map((function(t){return t.mask})).filter((function(t){return null!=t})),u=null;l.length&&((u=new Uint8Array(n*i)).set(l[0]),l.length>1&&A(l.slice(1),u));var f=[];e.forEach((function(t){var e=t.pixels;return f.push.apply(f,(0,o.Z)(e))}));var p=e.map((function(t){return t.statistics})).filter((function(t){return null===t||void 0===t?void 0:t.length})),v=[];return p.forEach((function(t){return v.push.apply(v,(0,o.Z)(t))})),new h.Z({pixelType:a,width:n,height:i,mask:u,pixels:f,statistics:v.length?v:null})}function d(t){if(t){var e=t.colormap;if(e&&0!==e.length){var r=e.sort((function(t,e){return t[0]-e[0]})),n=0;r[0][0]<0&&(n=r[0][0]);var i,a=Math.max(256,r[r.length-1][0]-n+1),l=new Uint8Array(4*a),o=[],s=0,h=0,u=5===r[0].length;if(a>65536)return r.forEach((function(t){o[t[0]-n]=u?t.slice(1):t.slice(1).concat([255])})),{indexed2DColormap:o,offset:n,alphaSpecified:u};if(t.fillUnspecified)for(s=(i=r[h])[0]-n;s<a;s++)l[4*s]=i[1],l[4*s+1]=i[2],l[4*s+2]=i[3],l[4*s+3]=u?i[4]:255,s===i[0]-n&&(i=h===r.length-1?i:r[++h]);else for(s=0;s<r.length;s++)l[h=4*((i=r[s])[0]-n)]=i[1],l[h+1]=i[2],l[h+2]=i[3],l[h+3]=u?i[4]:255;return{indexedColormap:l,offset:n,alphaSpecified:u}}}}function g(t,e){if(!c(t))return t;if(!e||!e.indexedColormap&&!e.indexed2DColormap)return t;var r=t.clone(),n=r.pixels,i=r.mask,a=r.width*r.height;if(1!==n.length)return t;var l,o=e.indexedColormap,h=e.indexed2DColormap,u=e.offset,f=e.alphaSpecified,p=0,v=n[0],d=new Uint8Array(v.length),g=new Uint8Array(v.length),m=new Uint8Array(v.length),x=0;if(o){var y=o.length-1;if((0,s.pC)(i))for(p=0;p<a;p++)i[p]&&((x=4*(v[p]-u))<u||x>y?i[p]=0:(d[p]=o[x],g[p]=o[x+1],m[p]=o[x+2],i[p]=o[x+3]));else{for(i=new Uint8Array(a),p=0;p<a;p++)(x=4*(v[p]-u))<u||x>y?i[p]=0:(d[p]=o[x],g[p]=o[x+1],m[p]=o[x+2],i[p]=o[x+3]);r.mask=i}}else if(h)if((0,s.pC)(i))for(p=0;p<a;p++)i[p]&&(l=h[v[p]],d[p]=l[0],g[p]=l[1],m[p]=l[2],i[p]=l[3]);else{for(i=new Uint8Array(a),p=0;p<a;p++)l=h[v[p]],d[p]=l[0],g[p]=l[1],m[p]=l[2],i[p]=l[3];r.mask=i}return r.pixels=[d,g,m],r.statistics=null,r.pixelType="u8",r.maskIsAlpha=f,r}function m(t,e){if(!c(t))return null;var r=t.pixels,n=t.mask,i=r.length,a=e.lut,l=e.offset;a&&1===a[0].length&&(a=r.map((function(){return a})));for(var o=[],s=e.outputPixelType||"u8",u=0;u<i;u++){var f=x(r[u],n,a[u],l||0,s);o.push(f)}var p=new h.Z({width:t.width,height:t.height,pixels:o,mask:n,pixelType:s});return p.updateStatistics(),p}function x(t,e,r,n,i){var a=t.length,l=h.Z.createEmptyBand(i,a);if(e)for(var o=0;o<a;o++)e[o]&&(l[o]=r[t[o]-n]);else for(var s=0;s<a;s++)l[s]=r[t[s]-n];return l}function y(t,e){if(!c(t))return null;var r,n,i,a,l,o,s=t.clone(),h=s.pixels,u=s.width*s.height,f=e.length,p=Math.floor(f/2),v=e[Math.floor(p)],d=h[0],g=!1,m=new Uint8Array(u),x=new Uint8Array(u),y=new Uint8Array(u),w=s.mask,k=4===e[0].mappedColor.length;for(w||((w=new Uint8Array(u)).fill(k?255:1),s.mask=w),l=0;l<u;l++)if(w[l]){for(r=d[l],g=!1,o=p,n=v,i=0,a=f-1;a-i>1;){if(r===n.value){g=!0;break}r>n.value?i=o:a=o,o=Math.floor((i+a)/2),n=e[Math.floor(o)]}g||(r===e[i].value?(n=e[i],g=!0):r===e[a].value?(n=e[a],g=!0):r<e[i].value?(g=!1,n=null):r>e[i].value&&(r<e[a].value?(n=e[i],g=!0):a===f-1?(g=!1,n=null):(n=e[a],g=!0))),g?(m[l]=n.mappedColor[0],x[l]=n.mappedColor[1],y[l]=n.mappedColor[2],w[l]=n.mappedColor[3]):m[l]=x[l]=y[l]=w[l]=0}return s.pixels=[m,x,y],s.mask=w,s.pixelType="u8",s.maskIsAlpha=k,s}function w(t,e){if(!c(t))return null;var r=t.width,n=t.height,i=e.inputRanges,a=e.outputValues,o=e.outputPixelType,s=e.noDataRanges,f=e.allowUnmatched,p=e.isLastInputRangeInclusive,v=t.pixels[0],d=h.Z.createEmptyBand(o,v.length),g=t.mask,m=new Uint8Array(r*n);g?m.set(g):m.fill(255);var x=t.pixelType.startsWith("f")?1e-6:0,y=i.map((function(t){return t-x}));y[0]=i[0],y[y.length-1]=i[i.length-1]+(p?1e-6:0);for(var w=i.length/2,k=(0,u.r)(o),M=(0,l.Z)(k,2),A=M[0],b=M[1],Z=0;Z<n;Z++)for(var C=0;C<r;C++){var U=Z*r+C;if(m[U]){for(var P=v[U],T=!1,I=w-1;I>=0;I--)if(P===y[2*I]||P>y[2*I]&&P<y[2*I+1]){d[U]=a[I],T=!0;break}T||(f?d[U]=P>b?b:P<A?A:P:m[U]=0)}}if(null!==s&&void 0!==s&&s.length)for(var _=0;_<n;_++)for(var B=0;B<r;B++){var S=_*r+B;if(!g||g[S])for(var V=v[S],F=0;F<w;F+=2)if(V>=s[F]&&V<=s[F+1]){d[S]=0,m[S]=0;break}}return new h.Z({width:r,height:n,pixelType:o,pixels:[d],mask:m})}function k(t,e,r,n){for(var i=null!=r&&r.length>=2?new Set(r):null,a=1===(null===r||void 0===r?void 0:r.length)?r[0]:null,l=!(null===e||void 0===e||!e.length),o=0;o<t.length;o++)if(n[o]){var s=t[o];if(l){for(var h=!1,u=0;u<e.length;u+=2)if(s>=e[u]&&s<=e[u+1]){h=!0;break}h||(n[o]=0)}n[o]&&(s===a||(null===i||void 0===i?void 0:i.has(s)))&&(n[o]=0)}}function M(t,e){for(var r=t[0].length,n=0;n<r;n++)if(e[n]){for(var i=!1,a=0;a<t.length;a++)if(t[a][n]){i=!0;break}i||(e[n]=0)}}function A(t,e){for(var r=t[0].length,n=0;n<r;n++)if(e[n]){for(var i=!1,a=0;a<t.length;a++)if(0===t[a][n]){i=!0;break}i&&(e[n]=0)}}function b(t,e){if(!c(t))return null;var r=t.width,n=t.height,i=t.pixels,a=r*n,l=new Uint8Array(a);t.mask?l.set(t.mask):l.fill(255);var o=i.length,s=e.includedRanges,u=e.noDataValues,f=e.outputPixelType,p=e.matchAll,v=e.lookups;if(v){for(var d=[],g=0;g<o;g++){var m=v[g],y=x(i[g],l,m.lut,m.offset||0,"u8");d.push(y)}1===d.length?l.set(d[0]):p?M(d,l):A(d,l)}else if(p){for(var w=[],b=0;b<o;b++){var Z=new Uint8Array(a);Z.set(l),k(i[b],null===s||void 0===s?void 0:s.slice(2*b,2*b+2),null===u||void 0===u?void 0:u[b],Z),w.push(Z)}1===w.length?l.set(w[0]):M(w,l)}else for(var C=0;C<o;C++)k(i[C],null===s||void 0===s?void 0:s.slice(2*C,2*C+2),null===u||void 0===u?void 0:u[C],l);return new h.Z({width:r,height:n,pixelType:f,pixels:i,mask:l})}function Z(t){var e=t.srcPixelType,r=t.inputRanges,n=t.outputValues,i=t.allowUnmatched,a=t.noDataRanges,o=t.isLastInputRangeInclusive,s=t.outputPixelType;if("u8"!==e&&"s8"!==e&&"u16"!==e&&"s16"!==e)return null;var f=e.includes("16")?65536:256,c=e.includes("s")?-f/2:0,p=h.Z.createEmptyBand(s,f),v=new Uint8Array(f);i&&v.fill(255);var d=(0,u.r)(s),g=(0,l.Z)(d,2),m=g[0],x=g[1];if(null!==r&&void 0!==r&&r.length&&null!==n&&void 0!==n&&n.length){var y=r.map((function(t){return t-1e-6}));y[0]=r[0],o&&(y[y.length-1]=r[r.length-1]);for(var w=0;w<y.length;w++)for(var k=n[w]>x?x:n[w]<m?m:n[w],M=Math.ceil(y[2*w]-c),A=Math.floor(y[2*w+1]-c),b=M;b<=A;b++)p[b]=k,v[b]=255}if(null!==a&&void 0!==a&&a.length)for(var Z=0;Z<a.length;Z++)for(var C=Math.ceil(a[2*Z]-c),U=Math.floor(a[2*Z+1]-c),P=C;P<=U;P++)v[P]=0;return{lut:p,offset:c,mask:v}}function C(t,e,r){if("u8"!==t&&"s8"!==t&&"u16"!==t&&"s16"!==t)return null;var n=t.includes("16")?65536:256,i=t.includes("s")?-n/2:0,a=new Uint8Array(n);if(e)for(var l=0;l<e.length;l++)for(var o=Math.ceil(e[2*l]-i),s=Math.floor(e[2*l+1]-i),h=o;h<=s;h++)a[h]=255;else a.fill(255);if(r)for(var u=0;u<r.length;u++)a[r[u]-i]=0;return{lut:a,offset:i}}function U(t,e){if(!t||0===t.length)return null;var r=t.find((function(t){return t.pixelBlock}));if(!r||(0,s.Wi)(r.pixelBlock))return null;var n=(r.extent.xmax-r.extent.xmin)/r.pixelBlock.width,i=(r.extent.ymax-r.extent.ymin)/r.pixelBlock.height,a=.01*Math.min(n,i),l=t.sort((function(t,e){return Math.abs(t.extent.ymax-e.extent.ymax)>a?e.extent.ymax-t.extent.ymax:Math.abs(t.extent.xmin-e.extent.xmin)>a?t.extent.xmin-e.extent.xmin:0})),o=Math.min.apply(null,l.map((function(t){return t.extent.xmin}))),h=Math.min.apply(null,l.map((function(t){return t.extent.ymin}))),u=Math.max.apply(null,l.map((function(t){return t.extent.xmax}))),f=Math.max.apply(null,l.map((function(t){return t.extent.ymax}))),c={x:Math.round((e.xmin-o)/n),y:Math.round((f-e.ymax)/i)},p={width:Math.round((u-o)/n),height:Math.round((f-h)/i)},v={width:Math.round((e.xmax-e.xmin)/n),height:Math.round((e.ymax-e.ymin)/i)};return Math.round(p.width/r.pixelBlock.width)*Math.round(p.height/r.pixelBlock.height)!==l.length||c.x<0||c.y<0||p.width<v.width||p.height<v.height?null:{extent:e,pixelBlock:T(l.map((function(t){return t.pixelBlock})),p,{clipOffset:c,clipSize:v})}}function P(t,e,r,n,i,a){var l=r.block,o=l.width,s=l.height,h=r.offset,u=h.x,f=h.y,c=r.mosaic,p=c.width,v=function(t,e,r,n,i,a,l,o){return{xmin:i<=r*t?0:i<r*t+t?i-r*t:t,ymin:a<=n*e?0:a<n*e+e?a-n*e:e,xmax:i+l<=r*t?0:i+l<r*t+t?i+l-r*t:t,ymax:a+o<=n*e?0:a+o<n*e+e?a+o-n*e:e}}(o,s,n,i,u,f,p,c.height),d=0,g=0;if(a){var m,x=a.hasGCSSShiftTransform?360:null!==(m=a.halfWorldWidth)&&void 0!==m?m:0,y=o*a.resolutionX,w=a.startX+n*y;w<x&&w+y>x?g=a.rightPadding:w>=x&&(d=a.leftMargin-a.rightPadding,g=0)}if(v.xmax-=g,"number"!=typeof e)for(var k=v.ymin;k<v.ymax;k++)for(var M=(i*s+k-f)*p+(n*o-u)+d,A=k*o,b=v.xmin;b<v.xmax;b++)t[M+b]=e[A+b];else for(var Z=v.ymin;Z<v.ymax;Z++)for(var C=(i*s+Z-f)*p+(n*o-u)+d,U=v.xmin;U<v.xmax;U++)t[C+U]=e}function T(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.clipOffset,i=r.clipSize,a=r.alignmentInfo,l=r.blockWidths;if(l)return function(t,e,r){var n=t.find((function(t){return(0,s.pC)(t)}));if((0,s.Wi)(n))return null;var i=t.some((function(t){return!(0,s.pC)(t)||!!t.mask})),a=e.width,l=e.height,o=i?new Uint8Array(a*l):null,u=r.blockWidths,f=[],p=n.getPlaneCount(),v=h.Z.getPixelArrayConstructor(n.pixelType);if(i)for(var d=0,g=0;d<t.length;g+=u[d],d++){var m=t[d];if(c(m))for(var x=(0,s.Wg)(m.mask),y=0;y<l;y++)for(var w=0;w<u[d];w++)o[y*a+w+g]=null==x?255:x[y*m.width+w]}for(var k=0;k<p;k++){for(var M=new v(a*l),A=0,b=0;A<t.length;b+=u[A],A++){var Z=t[A];if(c(Z)){var C=Z.pixels[k];if(null!=C)for(var U=0;U<l;U++)for(var P=0;P<u[A];P++)M[U*a+P+b]=C[U*Z.width+P]}}f.push(M)}var T=new h.Z({width:a,height:l,mask:o,pixels:f,pixelType:n.pixelType});return T.updateStatistics(),T}(t,e,{blockWidths:l});var o=t.find((function(t){return c(t)}));if((0,s.Wi)(o))return null;for(var u,f,p=i?i.width:e.width,v=i?i.height:e.height,d=o.width,g=o.height,m=e.width/d,x=e.height/g,y={offset:n||{x:0,y:0},mosaic:i||e,block:{width:d,height:g}},w=o.pixelType,k=h.Z.getPixelArrayConstructor(w),M=o.pixels.length,A=[],b=0;b<M;b++){u=new k(p*v);for(var Z=0;Z<x;Z++)for(var C=0;C<m;C++){var U=t[Z*m+C];c(U)&&P(u,U.pixels[b],y,C,Z,a)}A.push(u)}if(t.some((function(t){return(0,s.Wi)(t)||(0,s.pC)(t.mask)&&t.mask.length>0}))){f=new Uint8Array(p*v);for(var T=0;T<x;T++)for(var I=0;I<m;I++){var _=t[T*m+I],B=(0,s.pC)(_)?_.mask:null;(0,s.pC)(B)?P(f,B,y,I,T,a):P(f,_?1:0,y,I,T,a)}}var S=new h.Z({width:p,height:v,pixels:A,pixelType:w,mask:f});return S.updateStatistics(),S}function I(t,e,r){if(!c(t))return null;var n=t.width,i=t.height,a=e.x,l=e.y,o=r.width+a,s=r.height+l;if(a<0||l<0||o>n||s>i)return t;if(0===a&&0===l&&o===n&&s===i)return t;t.mask||(t.mask=new Uint8Array(n*i));for(var h=t.mask,u=0;u<i;u++)for(var f=u*n,p=0;p<n;p++)h[f+p]=u<l||u>=s||p<a||p>=o?0:1;return t.updateStatistics(),t}function _(t){if(0===t.size)return 0;for(var e=0,r=-1,n=0,i=t.keys(),a=i.next();!a.done;)(n=t.get(a.value))>e&&(r=a.value,e=n),a=i.next();return r}function B(t,e,r){if(0!==r){var n=t.get(e);1===n?t.delete(e):t.set(e,n-1)}}function S(t,e,r){0!==r&&t.set(e,t.has(e)?t.get(e)+1:1)}function V(t,e,r){var n=e.x,i=e.y,a=r.width,l=r.height;if(0===n&&0===i&&l===t.height&&a===t.width)return t;var o=t.width,u=t.height,f=Math.max(0,i),p=Math.max(0,n),v=Math.min(n+a,o),d=Math.min(i+l,u);if(v<0||d<0||!c(t))return null;n=Math.max(0,-n),i=Math.max(0,-i);for(var g=t.pixels,m=a*l,x=g.length,y=[],w=0;w<x;w++){for(var k=g[w],M=h.Z.createEmptyBand(t.pixelType,m),A=f;A<d;A++)for(var b=A*o,Z=(A+i-f)*a+n,C=p;C<v;C++)M[Z++]=k[b+C];y.push(M)}for(var U=new Uint8Array(m),P=(0,s.Wg)(t.mask),T=f;T<d;T++)for(var I=T*o,_=(T+i-f)*a+n,B=p;B<v;B++)U[_++]=P?P[I+B]:1;var S=new h.Z({width:r.width,height:r.height,pixelType:t.pixelType,pixels:y,mask:U});return S.updateStatistics(),S}function F(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!c(t))return null;for(var r=t.pixels,n=t.width,i=t.height,a=t.mask,l=t.pixelType,o=[],u=Math.round(n/2),f=Math.round(i/2),p=i-1,v=n-1,d=0;d<r.length;d++){for(var g=r[d],m=h.Z.createEmptyBand(l,u*f),x=0,y=0;y<i;y+=2)for(var w=0;w<n;w+=2){var k=g[y*n+w];if(e){var M=w===v?k:g[y*n+w+1],A=y===p?k:g[y*n+w+n],b=w===v?A:y===p?M:g[y*n+w+n+1];m[x++]=(k+M+A+b)/4}else m[x++]=k}o.push(m)}var Z=null;if((0,s.pC)(a)){Z=new Uint8Array(u*f);for(var C=0,U=0;U<i;U+=2)for(var P=0;P<n;P+=2){var T=a[U*n+P];if(e){var I=P===v?T:a[U*n+P+1],_=U===p?T:a[U*n+P+n],B=P===v?_:U===p?I:a[U*n+P+n+1];Z[C++]=T*I*_*B?1:0}else Z[C++]=T}}return new h.Z({width:u,height:f,pixelType:l,pixels:o,mask:Z})}function D(t,e,r){if(!c(t))return null;for(var n=e.width,i=e.height,a=t.width,l=t.height,o=new Map,s={x:0,y:0},h=null==r?1:1+r,u=t,f=0;f<h;f++){for(var p=Math.ceil(a/n),v=Math.ceil(l/i),d=0;d<v;d++){s.y=d*i;for(var g=0;g<p;g++){s.x=g*n;var m=V(u,s,e);o.set("".concat(f,"/").concat(d,"/").concat(g),m)}}f<h-1&&(u=F(u)),a=Math.round(a/2),l=Math.round(l/2)}return o}function L(t,e,r,n){for(var i,a,l,o,s,h,u,f,c,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,v=t.width,d=t.height,g=e.width,m=e.height,x=n.cols,y=n.rows,w=Math.ceil(g/x-.1/x),k=Math.ceil(m/y-.1/y),M=w*x,A=M*k*y,b=new Float32Array(A),Z=new Float32Array(A),C=new Uint32Array(A),U=new Uint32Array(A),P=0,T=0;T<k;T++)for(var I=0;I<w;I++){a=r[i=12*(T*w+I)],l=r[i+1],o=r[i+2],s=r[i+3],h=r[i+4],u=r[i+5];for(var _=0;_<y;_++){P=(T*y+_)*M+I*x,c=(_+.5)/y;for(var B=0;B<_;B++)f=(B+.5)/x,b[P+B]=(a*f+l*c+o)*v+p,Z[P+B]=(s*f+h*c+u)*d+p,C[P+B]=Math.floor(b[P+B]),U[P+B]=Math.floor(Z[P+B])}a=r[i+=6],l=r[i+1],o=r[i+2],s=r[i+3],h=r[i+4],u=r[i+5];for(var S=0;S<y;S++){P=(T*y+S)*M+I*x,c=(S+.5)/y;for(var V=S;V<x;V++)f=(V+.5)/x,b[P+V]=(a*f+l*c+o)*v+p,Z[P+V]=(s*f+h*c+u)*d+p,C[P+V]=Math.floor(b[P+V]),U[P+V]=Math.floor(Z[P+V])}}return{offsets_x:b,offsets_y:Z,offsets_xi:C,offsets_yi:U,gridWidth:M}}function R(t,e){for(var r=e.coefficients,n=e.spacing,i=L(t,t,r,{rows:n[0],cols:n[1]}),a=i.offsets_x,l=i.offsets_y,o=i.gridWidth,s=t.width,h=t.height,u=new Float32Array(s*h),f=180/Math.PI,c=0;c<h;c++)for(var p=0;p<s;p++){var v=c*o+p,d=0===c?v:v-o,g=c===h-1?v:v+o,m=a[d]-a[g],x=l[g]-l[d];if(isNaN(m)||isNaN(x))u[c*s+p]=90;else{var y=Math.atan2(x,m)*f;y=(360+y)%360,u[c*s+p]=y}}return u}function W(t,e,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"nearest";if(!c(t))return null;"majority"===i&&(t=function(t){if(!c(t))return null;for(var e=t.clone(),r=t.width,n=t.height,i=t.pixels[0],a=e.pixels[0],l=(0,s.Wg)(t.mask),o=2;o<n-1;o++){for(var h=new Map,u=o-2;u<o+2;u++)for(var f=0;f<4;f++){var p=u*r+f;S(h,i[p],l?l[p]:1)}a[o*r]=_(h),a[o*r+1]=a[o*r+2]=a[o*r];for(var v=3;v<r-1;v++){var d=(o-2)*r+v+1;S(h,i[d],l?l[d]:1),S(h,i[d=(o-1)*r+v+1],l?l[d]:1),S(h,i[d=o*r+v+1],l?l[d]:1),S(h,i[d=(o+1)*r+v+1],l?l[d]:1),B(h,i[d=(o-2)*r+v-3],l?l[d]:1),B(h,i[d=(o-1)*r+v-3],l?l[d]:1),B(h,i[d=o*r+v-3],l?l[d]:1),B(h,i[d=(o+1)*r+v-3],l?l[d]:1),a[o*r+v]=_(h)}a[o*r+v+1]=a[o*r+v]}for(var g=0;g<r;g++)a[g]=a[r+g]=a[2*r+g],a[(n-1)*r+g]=a[(n-2)*r+g];return e.updateStatistics(),e}(t));for(var a=t,l=a.pixels,o=a.mask,u=a.pixelType,f=t.width,p=t.height,v=h.Z.getPixelArrayConstructor(u),d=l.length,g=e.width,m=e.height,x=!1,y=0;y<r.length;y+=3)-1===r[y]&&-1===r[y+1]&&-1===r[y+2]&&(x=!0);for(var w,k,M=L({width:f,height:p},e,r,n,"majority"===i?.5:0),A=M.offsets_x,b=M.offsets_y,Z=M.offsets_xi,C=M.offsets_yi,U=M.gridWidth,P=function(t,e,r){for(var n=t instanceof Float32Array||t instanceof Float64Array?0:.5,i=0;i<m;i++){w=i*U;for(var a=0;a<g;a++){if(A[w]<0||b[w]<0)t[i*g+a]=0;else if(r)t[i*g+a]=e[Z[w]+C[w]*f];else{var l=Math.floor(A[w]),s=Math.floor(b[w]),h=Math.ceil(A[w]),u=Math.ceil(b[w]),c=A[w]-l,p=b[w]-s;if(!o||o[l+s*f]&&o[l+s*f]&&o[l+u*f]&&o[h+u*f]){var v=(1-c)*e[l+s*f]+c*e[h+s*f],d=(1-c)*e[l+u*f]+c*e[h+u*f];t[i*g+a]=(1-p)*v+p*d+n}else t[i*g+a]=e[Z[w]+C[w]*f]}w++}}},T=[],I=0;I<d;I++)P(k=new v(g*m),l[I],"nearest"===i||"majority"===i),T.push(k);var V=new h.Z({width:g,height:m,pixelType:u,pixels:T});if((0,s.pC)(o))V.mask=new Uint8Array(g*m),P(V.mask,o,!0);else if(x){V.mask=new Uint8Array(g*m);for(var F=0;F<g*m;F++)V.mask[F]=A[F]<0||b[F]<0?0:1}return V.updateStatistics(),V}},64145:function(t,e,r){r.d(e,{BH:function(){return y},K:function(){return I},KC:function(){return m},NL:function(){return f},QI:function(){return x},Tg:function(){return v},Yx:function(){return c},nb:function(){return B},wF:function(){return _},xQ:function(){return g}});var n=r(29439),i=r(43404),a=r(92026),l=r(96212),o=r(17314),s=new Map;s.set("meter-per-second",1),s.set("kilometer-per-hour",.277778),s.set("knots",.514444),s.set("feet-per-second",.3048),s.set("mile-per-hour",.44704);var h=180/Math.PI,u=5,f=new i.X({esriMetersPerSecond:"meter-per-second",esriKilometersPerHour:"kilometer-per-hour",esriKnots:"knots",esriFeetPerSecond:"feet-per-second",esriMilesPerHour:"mile-per-hour"});function c(t,e){return s.get(t)/s.get(e)||1}function p(t){return(450-t)%360}function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"geographic",r=(0,n.Z)(t,2),i=r[0],a=r[1],l=Math.sqrt(i*i+a*a),o=Math.atan2(a,i)*h;return o=(360+o)%360,"geographic"===e&&(o=p(o)),[l,o]}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"geographic",r=t[1];"geographic"===e&&(r=p(r)),r%=360;var n=t[0];return[n*Math.cos(r/h),n*Math.sin(r/h)]}function g(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"geographic";if(!(0,o.nk)(t)||(0,a.Wi)(r))return t;for(var i="vector-magdir"===e?t.clone():(0,a.Wg)(m(t,e)),l=i.pixels[1],s=0;s<l.length;s++)l[s]="geographic"===n?(l[s]+r[s]+270)%360:(l[s]+360-r[s])%360;return"vector-magdir"===e?i:m(i,"vector-magdir")}function m(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"geographic",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!(0,o.nk)(t))return t;for(var a=t.pixels,s=t.width,h=t.height,u=s*h,f=a[0],c=a[1],p=t.pixelType.startsWith("f")?t.pixelType:"f32",g=l.Z.createEmptyBand(p,u),m=l.Z.createEmptyBand(p,u),x=0,y=0;y<h;y++)for(var w=0;w<s;w++){var k,M,A,b;"vector-uv"===e?(k=v([f[x],c[x]],r),M=(0,n.Z)(k,2),g[x]=M[0],m[x]=M[1],g[x]*=i):(A=d([f[x],c[x]],r),b=(0,n.Z)(A,2),g[x]=b[0],m[x]=b[1],g[x]*=i,m[x]*=i),x++}var Z=new l.Z({pixelType:p,width:t.width,height:t.height,mask:t.mask,validPixelCount:t.validPixelCount,maskIsAlpha:t.maskIsAlpha,pixels:[g,m]});return Z.updateStatistics(),Z}function x(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(1===r||!(0,o.nk)(t))return t;for(var n=t.clone(),i=n.pixels,a=n.width,l=n.height,s=i[0],h=i[1],u=0,f=0;f<l;f++)for(var c=0;c<a;c++)"vector-uv"===e?(s[u]*=r,h[u]*=r):s[u]*=r,u++;return n.updateStatistics(),n}function y(t,e,r,n,i){if((0,a.Wi)(i)||!i.spatialReference.equals(t.spatialReference))return{extent:t,width:Math.round(e/n),height:Math.round(r/n),resolution:t.width/e};var l=i.xmin,o=i.ymax,s=(t.xmax-t.xmin)/e*n,h=(t.ymax-t.ymin)/r*n,u=(s+h)/2;return t.xmin=l+Math.floor((t.xmin-l)/s)*s,t.xmax=l+Math.ceil((t.xmax-l)/s)*s,t.ymin=o+Math.floor((t.ymin-o)/h)*h,t.ymax=o+Math.ceil((t.ymax-o)/h)*h,{extent:t,width:Math.round(t.width/s),height:Math.round(t.height/h),resolution:u}}var w=k(0,0,0);function k(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.PI,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];i&&(r=(2*Math.PI-r)%(2*Math.PI));var a=i?-1:1,l=-7*a,o=-2*a,s=-16*a,h=21.75,u=A(0,e+13*a,r,h),f=(0,n.Z)(u,2),c=f[0],p=f[1],v=A(t-5.5,e+l,r,h),d=(0,n.Z)(v,2),g=d[0],m=d[1],x=A(t+5.5,e+l,r,h),y=(0,n.Z)(x,2),w=y[0],k=y[1],M=A(t-1.5,e+o,r,h),b=(0,n.Z)(M,2),Z=b[0],C=b[1],U=A(t+1.5,e+o,r,h),P=(0,n.Z)(U,2),T=P[0],I=P[1],_=A(t-1.5,e+s,r,h),B=(0,n.Z)(_,2),S=B[0],V=B[1],F=A(t+1.5,e+s,r,h),D=(0,n.Z)(F,2);return[c,p,g,m,Z,C,T,I,w,k,S,V,D[0],D[1]]}function M(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.PI,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];r&&(e=(2*Math.PI-e)%(2*Math.PI));var i=r?-1:1,a=5*i,l=20*i,o=25*i,s=45,h=2*i,f=r?1:-1,c=5*f,p=0+c,v=0-l,d=p+2*f,g=v,m=d-0*f,x=g+h,y=0-c,w=0-o,k=y+0*f,M=w-h,b=Math.ceil(t/u),Z=Math.floor(b/10);b-=8*Z;for(var C=[],U=[],P=0;P<b/2;P++,Z--){Z<=0&&b%2==1&&P===(b-1)/2&&(k=(y=0)+0*f,M=(w=(w+v)/2)-h);var T=A(y,w,e,s),I=(0,n.Z)(T,2),_=I[0],B=I[1];if(Z>0){var S=A(d,w,e,s),V=(0,n.Z)(S,2),F=V[0],D=V[1],L=A(p,v,e,s),R=(0,n.Z)(L,2),W=R[0],N=R[1];C.push(F),C.push(D),C.push(_),C.push(B),C.push(W),C.push(N)}else{var E=A(d,g,e,s),G=(0,n.Z)(E,2),j=G[0],O=G[1],q=A(m,x,e,s),X=(0,n.Z)(q,2),K=X[0],z=X[1],J=A(k,M,e,s),H=(0,n.Z)(J,2),Q=H[0],Y=H[1];U.push(_),U.push(B),U.push(Q),U.push(Y),U.push(K),U.push(z),U.push(j),U.push(O)}w+=a,v+=a,g+=a,x+=a,M+=a}var $=A(0+c,0+l,e,s),tt=(0,n.Z)($,2),et=tt[0],rt=tt[1],nt=7*f,it=A(0+nt,0+l,e,s),at=(0,n.Z)(it,2),lt=at[0],ot=at[1],st=A(0+c,0-o,e,s),ht=(0,n.Z)(st,2),ut=ht[0],ft=ht[1],ct=A(0+nt,0-o,e,s),pt=(0,n.Z)(ct,2);return{pennants:C,barbs:U,shaft:[et,rt,lt,ot,ut,ft,pt[0],pt[1]]}}function A(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=Math.sqrt(t*t+e*e)/n,a=(2*Math.PI+Math.atan2(e,t))%(2*Math.PI);return[i,(2*Math.PI+a-r)%(2*Math.PI)]}var b=[0,1,3,6,10,16,21,27,33,40,47,55,63],Z=[0,.5,1,1.5,2],C=[0,.25,.5,1,1.5,2,2.5,3,3.5,4];function U(t,e,r,n){var i,a=c(n||"knots",r);for(i=1;i<e.length;i++)if(i===e.length-1){if(t<e[i]*a)break}else if(t<=e[i]*a)break;return Math.min(i-1,e.length-2)}function P(t,e,r,n,i){var a=0;switch(e){case"beaufort_kn":a=U(t,b,"knots",r);break;case"beaufort_km":a=U(t,b,"kilometer-per-hour",r);break;case"beaufort_ft":a=U(t,b,"feet-per-second",r);break;case"beaufort_m":a=U(t,b,"meter-per-second",r);break;case"classified_arrow":a=U(t,null!==i&&void 0!==i?i:[],n,r);break;case"ocean_current_m":a=U(t,Z,"meter-per-second",r);break;case"ocean_current_kn":a=U(t,C,"knots",r)}return a}var T=[];function I(t,e){for(var r=0,n=0,i=t.width,a=t.height,l=t.mask,o=t.pixels[0],s=[],h=[],p=c(f.fromJSON(e.inputUnit),"knots"),v="wind_speed"===e.style?u:Number.MAX_VALUE,d=0;d<a;d++)for(var g=0;g<i;g++){var m=o[d*i+g]*p;if((!l||l[d*i+g])&&m<v){for(var x=0;x<4;x++)s[r++]=(g+.5)/i,s[r++]=(d+.5)/a,s[r++]=x<2?-.5:.5,s[r++]=x%2==0?-.5:.5,s[r++]=0,s[r++]=m;var y=4*(r/24-1);h[n++]=y,h[n++]=y+1,h[n++]=y+2,h[n++]=y+1,h[n++]=y+2,h[n++]=y+3}}return{vertexData:new Float32Array(s),indexData:new Uint32Array(h)}}function _(t,e){return"simple_scalar"===e.style?I(t,e):"wind_speed"===e.style?function(t,e){if(0===T.length)for(var r=0;r<30;r++)T.push(M(5*r,0,!e.invertDirection));for(var n=c(f.fromJSON(e.inputUnit),"knots"),i=t.width,a=t.height,l=t.mask,o=t.pixels[0],s=t.pixels[1],h=[],p=[],v=0,d=0,g=0;g<a;g++)for(var m=0;m<i;m++){var x=g*i+m,y=o[x]*n;if((!l||l[g*i+m])&&y>=u){var w=(s[x]+360)%360/180*Math.PI,k=T[Math.min(Math.floor(y/5),29)],A=k.pennants,b=k.barbs,Z=k.shaft;if(A.length+b.length===0)continue;for(var C=h.length/6,U=(m+.5)/i,P=(g+.5)/a,I=0;I<A.length;I+=2)h[v++]=U,h[v++]=P,h[v++]=A[I],h[v++]=A[I+1]+w,h[v++]=0,h[v++]=y;for(var _=0;_<b.length;_+=2)h[v++]=U,h[v++]=P,h[v++]=b[_],h[v++]=b[_+1]+w,h[v++]=0,h[v++]=y;for(var B=0;B<Z.length;B+=2)h[v++]=U,h[v++]=P,h[v++]=Z[B],h[v++]=Z[B+1]+w,h[v++]=0,h[v++]=y;for(var S=0;S<A.length/6;S++)p[d++]=C,p[d++]=C+1,p[d++]=C+2,C+=3;for(var V=0;V<b.length/8;V++)p[d++]=C,p[d++]=C+1,p[d++]=C+2,p[d++]=C+1,p[d++]=C+2,p[d++]=C+3,C+=4;p[d++]=C+0,p[d++]=C+1,p[d++]=C+2,p[d++]=C+1,p[d++]=C+3,p[d++]=C+2,C+=4}}return{vertexData:new Float32Array(h),indexData:new Uint32Array(p)}}(t,e):function(t,e){for(var r=e.style,n=e.inputUnit,i=e.outputUnit,l=e.breakValues,o=f.fromJSON(n),s=f.fromJSON(i),h=0,u=0,c=t.width,p=t.height,v=t.mask,d=t.pixels[0],g=t.pixels[1],m=(0,a.pC)(v)?v.filter((function(t){return t>0})).length:c*p,x=new Float32Array(42*m),y=new Uint32Array(15*m),M=e.invertDirection?k(0,0,0,!1):w,A=0;A<p;A++)for(var b=0;b<c;b++){var Z=A*c+b;if(!v||v[A*c+b]){for(var C=(g[Z]+360)%360/180*Math.PI,U=P(d[Z],r,o,s,l),T=0;T<M.length;T+=2)x[h++]=(b+.5)/c,x[h++]=(A+.5)/p,x[h++]=M[T],x[h++]=M[T+1]+C,x[h++]=U,x[h++]=d[Z];var I=7*(h/42-1);y[u++]=I,y[u++]=I+1,y[u++]=I+2,y[u++]=I+0,y[u++]=I+4,y[u++]=I+3,y[u++]=I+0,y[u++]=I+2,y[u++]=I+3,y[u++]=I+2,y[u++]=I+5,y[u++]=I+3,y[u++]=I+5,y[u++]=I+6,y[u++]=I+3}}return{vertexData:x,indexData:y}}(t,e)}function B(t,e,r){for(var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[0,0],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,o=t.width,s=t.height,h=t.mask,u=(0,n.Z)(t.pixels,2),f=u[0],c=u[1],p=(0,n.Z)(i,2),g=p[0],m=p[1],x=Math.round((o-g)/r),y=Math.round((s-m)/r),w=x*y,k=new Float32Array(w),M=new Float32Array(w),A=new Uint8Array(w),b="vector-uv"===e,Z=0;Z<y;Z++)for(var C=0;C<x;C++){for(var U=0,P=Z*x+C,T=Math.max(0,Z*r+m),I=Math.max(0,C*r+g),_=Math.min(s,T+r),B=Math.min(o,I+r),S=T;S<_;S++)for(var V=I;V<B;V++){var F=S*o+V;if(!h||h[F]){U++;var D=b?[f[F],c[F]]:[f[F],(360+c[F])%360],L=b?D:d(D),R=(0,n.Z)(L,2),W=R[0],N=R[1];k[P]+=W,M[P]+=N}}if(U>=(_-T)*(B-I)*(1-a)){A[P]=1;var E=v([k[P]/U,M[P]/U]),G=(0,n.Z)(E,2),j=G[0],O=G[1];k[P]=j,M[P]=O}else A[P]=0,k[P]=0,M[P]=0}var q=new l.Z({width:x,height:y,pixels:[k,M],mask:A});return q.updateStatistics(),q}},55185:function(t,e,r){r.d(e,{GE:function(){return m},KK:function(){return C}});var n=r(74165),i=r(37762),a=r(29439),l=r(15861),o=(r(59486),r(93169)),s=r(32718),h=r(16889),u=r(92026),f=r(66978),c=r(84936),p=r(92975),v=r(53866),d=s.Z.getLogger("esri.views.2d.engine.flow.dataUtils"),g=10;function m(t,e,r,n){return x.apply(this,arguments)}function x(){return x=(0,l.Z)((0,n.Z)().mark((function t(e,r,i,a){var l,s,h,u,c,p,v,m,x;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=performance.now(),s=y(r,i),h=performance.now(),u=k(r,s,i.width,i.height),c=performance.now(),p=M(u,!0),v=performance.now(),m="Streamlines"===e?A(p,g):b(p),x=performance.now(),(0,o.Z)("esri-2d-profiler")&&(d.info("I.1","_createFlowFieldFromData (ms)",Math.round(h-l)),d.info("I.2","_getStreamlines (ms)",Math.round(c-h)),d.info("I.3","createAnimatedLinesData (ms)",Math.round(v-c)),d.info("I.4","create{Streamlines|Particles}Mesh (ms)",Math.round(x-v)),d.info("I.5","createFlowMesh (ms)",Math.round(x-l)),d.info("I.6","Mesh size (bytes)",m.vertexData.buffer.byteLength+m.indexData.buffer.byteLength)),t.next=4,Promise.resolve();case 4:return(0,f.k_)(a),t.abrupt("return",m);case 6:case"end":return t.stop()}}),t)}))),x.apply(this,arguments)}function y(t,e){var r=function(t,e,r,n){if(0===n)return t;for(var i=Math.round(3*n),a=new Array(2*i+1),l=0,o=-i;o<=i;o++){var s=Math.exp(-o*o/(n*n));a[o+i]=s,l+=s}for(var h=-i;h<=i;h++)a[h+i]/=l;for(var u=new Float32Array(t.length),f=0;f<r;f++)for(var c=0;c<e;c++){for(var p=0,v=0,d=-i;d<=i;d++)if(!(c+d<0||c+d>=e)){var g=a[d+i];p+=g*t[2*(f*e+(c+d))+0],v+=g*t[2*(f*e+(c+d))+1]}u[2*(f*e+c)+0]=p,u[2*(f*e+c)+1]=v}for(var m=new Float32Array(t.length),x=0;x<e;x++)for(var y=0;y<r;y++){for(var w=0,k=0,M=-i;M<=i;M++)if(!(y+M<0||y+M>=r)){var A=a[M+i];w+=A*u[2*((y+M)*e+x)+0],k+=A*u[2*((y+M)*e+x)+1]}m[2*(y*e+x)+0]=w,m[2*(y*e+x)+1]=k}return m}(e.data,e.width,e.height,t.smoothing);return t.interpolate?function(t,n){var i=Math.floor(t),a=Math.floor(n);if(i<0||i>=e.width)return[0,0];if(a<0||a>=e.height)return[0,0];var l=t-i,o=n-a,s=i,h=a,u=i<e.width-1?i+1:i,f=a<e.height-1?a+1:a,c=r[2*(h*e.width+s)],p=r[2*(h*e.width+u)],v=r[2*(f*e.width+s)],d=r[2*(f*e.width+u)],g=r[2*(h*e.width+s)+1],m=r[2*(h*e.width+u)+1];return[(c*(1-o)+v*o)*(1-l)+(p*(1-o)+d*o)*l,(g*(1-o)+r[2*(f*e.width+s)+1]*o)*(1-l)+(m*(1-o)+r[2*(f*e.width+u)+1]*o)*l]}:function(t,n){var i=Math.round(t),a=Math.round(n);return i<0||i>=e.width||a<0||a>=e.height?[0,0]:[r[2*(a*e.width+i)+0],r[2*(a*e.width+i)+1]]}}function w(t,e,r,n,i,l,o,s,h){var u=[],f=r,c=n,p=0,v=e(f,c),d=(0,a.Z)(v,2),g=d[0],m=d[1];g*=t.velocityScale,m*=t.velocityScale;var x,y,w=Math.sqrt(g*g+m*m);u.push({x:f,y:c,t:p,speed:w});for(var k=0;k<t.verticesPerLine;k++){var M=e(f,c),A=(0,a.Z)(M,2),b=A[0],Z=A[1];b*=t.velocityScale,Z*=t.velocityScale;var C=Math.sqrt(b*b+Z*Z);if(C<t.minSpeedThreshold)return u;var U=b/C,P=Z/C;if(f+=U*t.segmentLength,c+=P*t.segmentLength,p+=t.segmentLength/C,Math.acos(U*x+P*y)>t.maxTurnAngle)return u;if(t.collisions){var T=Math.round(f*h),I=Math.round(c*h);if(T<0||T>o-1||I<0||I>s-1)return u;var _=l[I*o+T];if(-1!==_&&_!==i)return u;l[I*o+T]=i}u.push({x:f,y:c,t:p,speed:C}),x=U,y=P}return u}function k(t,e,r,n){for(var i=[],a=new c.Z,l=1/Math.max(t.lineCollisionWidth,1),o=Math.round(r*l),s=Math.round(n*l),h=new Int32Array(o*s),u=0;u<h.length;u++)h[u]=-1;for(var f=[],p=0;p<n;p+=t.lineSpacing)for(var v=0;v<r;v+=t.lineSpacing)f.push({x:v,y:p,sort:a.getFloat()});f.sort((function(t,e){return t.sort-e.sort}));for(var d=0,g=f;d<g.length;d++){var m=g[d],x=m.x,y=m.y;if(a.getFloat()<t.density){var k=w(t,e,x,y,i.length,h,o,s,l);if(k.length<2)continue;i.push(k)}}return i}function M(t,e){var r,n=new c.Z,a=t.reduce((function(t,e){return t+e.length}),0),l=new Float32Array(4*a),o=new Array(t.length),s=0,h=0,u=(0,i.Z)(t);try{for(u.s();!(r=u.n()).done;){var f,p=r.value,v=s,d=(0,i.Z)(p);try{for(d.s();!(f=d.n()).done;){var g=f.value;l[4*s+0]=g.x,l[4*s+1]=g.y,l[4*s+2]=g.t,l[4*s+3]=g.speed,s++}}catch(m){d.e(m)}finally{d.f()}o[h++]={startVertex:v,numberOfVertices:p.length,totalTime:p[p.length-1].t,timeSeed:e?n.getFloat():0}}}catch(m){u.e(m)}finally{u.f()}return{lineVertices:l,lineDescriptors:o}}function A(t,e){var r,n=t.lineVertices,a=t.lineDescriptors,l=0,o=0,s=(0,i.Z)(a);try{for(s.s();!(r=s.n()).done;){var h=r.value;l+=2*h.numberOfVertices,o+=6*(h.numberOfVertices-1)}}catch(N){s.e(N)}finally{s.f()}var u=new Float32Array(9*l),f=new Uint32Array(o),c=0,p=0;function v(t,e,r,n,i,a,l,o){var s=9*c,h=0;u[s+h++]=t,u[s+h++]=e,u[s+h++]=1,u[s+h++]=r,u[s+h++]=a,u[s+h++]=l,u[s+h++]=n/2,u[s+h++]=i/2,u[s+h++]=o,c++,u[s+h++]=t,u[s+h++]=e,u[s+h++]=-1,u[s+h++]=r,u[s+h++]=a,u[s+h++]=l,u[s+h++]=-n/2,u[s+h++]=-i/2,u[s+h++]=o,c++}var d,g=(0,i.Z)(a);try{for(g.s();!(d=g.n()).done;){for(var m=d.value,x=m.totalTime,y=m.timeSeed,w=null,k=null,M=null,A=null,b=null,Z=null,C=0;C<m.numberOfVertices;C++){var U=n[4*(m.startVertex+C)+0],P=n[4*(m.startVertex+C)+1],T=n[4*(m.startVertex+C)+2],I=n[4*(m.startVertex+C)+3],_=null,B=null,S=null,V=null;if(C>0){_=U-w,B=P-k;var F=Math.sqrt(_*_+B*B);if(_/=F,B/=F,C>1){var D=_+b,L=B+Z,R=Math.sqrt(D*D+L*L);D/=R,L/=R;var W=Math.min(1/(D*_+L*B),e);S=-(L*=W),V=D*=W}else S=-B,V=_;null!==S&&null!==V&&(v(w,k,M,S,V,x,y,I),f[p++]=c-2,f[p++]=c,f[p++]=c-1,f[p++]=c,f[p++]=c+1,f[p++]=c-1)}w=U,k=P,M=T,b=_,Z=B,A=I}v(w,k,M,-Z,b,x,y,A)}}catch(N){g.e(N)}finally{g.f()}return{vertexData:u,indexData:f}}function b(t){var e,r=16,n=1,a=2,l=t.lineVertices,o=t.lineDescriptors,s=0,h=0,u=(0,i.Z)(o);try{for(u.s();!(e=u.n()).done;){var f=e.value.numberOfVertices-1;s+=4*f*2,h+=6*f*2}}catch(E){u.e(E)}finally{u.f()}var c,p,v,d,g,m,x,y,w,k,M,A,b,Z,C=new Float32Array(s*r),U=new Uint32Array(h),P=0,T=0;function I(){U[T++]=P-8,U[T++]=P-7,U[T++]=P-6,U[T++]=P-7,U[T++]=P-5,U[T++]=P-6,U[T++]=P-4,U[T++]=P-3,U[T++]=P-2,U[T++]=P-3,U[T++]=P-1,U[T++]=P-2}function _(t,e,i,l,o,s,h,u,f,c,p,v,d,g){for(var m=P*r,x=0,y=0,w=[n,a];y<w.length;y++)for(var k=w[y],M=0,A=[1,2,3,4];M<A.length;M++){var b=A[M];C[m+x++]=t,C[m+x++]=e,C[m+x++]=i,C[m+x++]=l,C[m+x++]=h,C[m+x++]=u,C[m+x++]=f,C[m+x++]=c,C[m+x++]=k,C[m+x++]=b,C[m+x++]=d,C[m+x++]=g,C[m+x++]=o/2,C[m+x++]=s/2,C[m+x++]=p/2,C[m+x++]=v/2,P++}}function B(t,e){var r=w+M,n=k+A,i=Math.sqrt(r*r+n*n),a=w*(r/=i)+k*(n/=i);r/=a,n/=a;var l=M+b,o=A+Z,s=Math.sqrt(l*l+o*o),h=M*(l/=s)+A*(o/=s);_(c,p,v,d,-n,r,g,m,x,y,-(o/=h),l/=h,t,e),I()}function S(t,e,r,n,i,a){if(w=M,k=A,M=b,A=Z,null==w&&null==k&&(w=M,k=A),null!=g&&null!=m){b=t-g,Z=e-m;var l=Math.sqrt(b*b+Z*Z);b/=l,Z/=l}null!=w&&null!=k&&B(i,a),c=g,p=m,v=x,d=y,g=t,m=e,x=r,y=n}function V(t,e){w=M,k=A,M=b,A=Z,null==w&&null==k&&(w=M,k=A),null!=w&&null!=k&&B(t,e)}var F,D=(0,i.Z)(o);try{for(D.s();!(F=D.n()).done;){var L=F.value;c=null,p=null,v=null,d=null,g=null,m=null,x=null,y=null,w=null,k=null,M=null,A=null,b=null,Z=null;for(var R=L.totalTime,W=L.timeSeed,N=0;N<L.numberOfVertices;N++)S(l[4*(L.startVertex+N)+0],l[4*(L.startVertex+N)+1],l[4*(L.startVertex+N)+2],l[4*(L.startVertex+N)+3],R,W);V(R,W)}}catch(E){D.e(E)}finally{D.f()}return{vertexData:C,indexData:U}}function Z(t,e){var r=e.pixels,n=e.width,i=e.height,a=new Float32Array(n*i*2),l=e.mask||new Uint8Array(n*i*2);if(e.mask||l.fill(255),"vector-uv"===t)for(var o=0;o<n*i;o++)a[2*o+0]=r[0][o],a[2*o+1]=-r[1][o];else if("vector-magdir"===t)for(var s=0;s<n*i;s++){var u=r[0][s],f=(0,h.Vl)(r[1][s]),c=Math.cos(f-Math.PI/2),p=Math.sin(f-Math.PI/2);a[2*s+0]=c*u,a[2*s+1]=p*u}return{data:a,mask:l,width:n,height:i}}function C(t,e,r,n,i,a){return U.apply(this,arguments)}function U(){return U=(0,l.Z)((0,n.Z)().mark((function t(e,r,l,s,h,u){var f,c,g,m,x,y,w,k,M,A,b,Z,C,U,T,I,_,B,S,V,F,D,L;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(f=performance.now(),c=(0,p.C5)(r.spatialReference)){t.next=6;break}return t.next=4,P(e,r,l,s,h,u);case 4:return g=t.sent,t.abrupt("return",((0,o.Z)("esri-2d-profiler")&&d.info("I.7","loadImagery, early exit (ms)",Math.round(performance.now()-f)),(0,o.Z)("esri-2d-profiler")&&d.info("I.9","Number of parts",1),g));case 6:for(m=(0,a.Z)(c.valid,2),x=m[0],y=m[1],w=y-x,k=Math.ceil(r.width/w),M=r.width/k,A=Math.round(l/k),b=r.xmin,Z=[],C=performance.now(),U=0;U<k;U++)T=new v.Z({xmin:b,xmax:b+M,ymin:r.ymin,ymax:r.ymax,spatialReference:r.spatialReference}),Z.push(P(e,T,A,s,h,u)),b+=M;return t.next=12,Promise.all(Z);case 12:I=t.sent,(0,o.Z)("esri-2d-profiler")&&d.info("I.8","All calls to _fetchPart (ms)",Math.round(performance.now()-C)),(0,o.Z)("esri-2d-profiler")&&d.info("I.9","Number of parts",I.length),_={data:new Float32Array(l*s*2),mask:new Uint8Array(l*s),width:l,height:s},B=0,S=(0,i.Z)(I);try{for(S.s();!(V=S.n()).done;){for(F=V.value,D=0;D<F.height;D++)for(L=0;L<F.width;L++)B+L>=l||(_.data[2*(D*l+B+L)+0]=F.data[2*(D*F.width+L)+0],_.data[2*(D*l+B+L)+1]=F.data[2*(D*F.width+L)+1],_.mask[D*l+B+L]=F.mask[D*F.width+L]);B+=F.width}}catch(n){S.e(n)}finally{S.f()}return t.abrupt("return",((0,o.Z)("esri-2d-profiler")&&d.info("I.10","loadImagery, general exit (ms)",Math.round(performance.now()-f)),_));case 19:case"end":return t.stop()}}),t)}))),U.apply(this,arguments)}function P(t,e,r,n,i,a){return T.apply(this,arguments)}function T(){return T=(0,l.Z)((0,n.Z)().mark((function t(e,r,i,a,l,o){var s,h,f,c,p;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s={requestProjectedLocalDirections:!0,signal:o},(0,u.pC)(l)&&(s.timeExtent=l),"imagery"!==e.type){t.next=9;break}return t.next=4,e.load({signal:o});case 4:return h=e.rasterInfo.dataType,t.next=7,e.fetchImage(r,i,a,s);case 7:return f=t.sent,t.abrupt("return",!f||(0,u.Wi)(f.pixelData)||(0,u.Wi)(f.pixelData.pixelBlock)?{data:new Float32Array(i*a*2),mask:new Uint8Array(i*a),width:i,height:a}:Z(h,f.pixelData.pixelBlock));case 9:return t.next=11,e.load({signal:o});case 11:return c=e.rasterInfo.dataType,t.next=14,e.fetchPixels(r,i,a,s);case 14:return p=t.sent,t.abrupt("return",!p||(0,u.Wi)(p.pixelBlock)?{data:new Float32Array(i*a*2),mask:new Uint8Array(i*a),width:i,height:a}:Z(c,p.pixelBlock));case 16:case"end":return t.stop()}}),t)}))),T.apply(this,arguments)}}}]);
//# sourceMappingURL=5345.d90305f8.chunk.js.map