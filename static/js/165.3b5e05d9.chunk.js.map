{"version":3,"file":"static/js/165.3b5e05d9.chunk.js","mappings":"uKAI4zBA,E,qSAAQC,EAAE,I,SAAIC,GAAE,QAAQ,EAAE,EAAE,OAAE,GAAYC,EAAEH,EAAC,SAAAI,IAAAC,EAAAA,EAAAA,GAAAL,EAAAI,GAAA,IAAAE,GAAAC,EAAAA,EAAAA,GAAAP,GAA2B,SAAAA,IAAa,IAAAQ,EAAqP,OAArPC,EAAAA,EAAAA,GAAA,KAAAT,IAACQ,EAAAF,EAAAI,MAAA,KAASC,YAAgBC,SAASC,EAAAA,EAAAA,OAAS,CAACC,iBAAiBC,EAAAA,EAAAA,YAAcC,KAAK,MAAMR,EAAKS,KAAK,YAAYT,EAAKU,WAAW,IAAIC,EAAAA,GAAG,iBAAiB,eAAe,eAAe,gBAAgBJ,EAAAA,EAAAA,aAAeP,EAAKM,iBAAiBC,EAAAA,EAAAA,YAAaP,CAAA,CAAozB,OAAnzBY,EAAAA,EAAAA,GAAApB,EAAA,EAAAqB,IAAA,gBAAAC,MAAA,SAAcC,EAAEC,EAAEC,EAAEC,GAAG,IAAMC,EAAED,IAAGE,EAAAA,EAAAA,MAAI,OAAO3B,EAAE4B,MAAMN,EAAEtB,EAAE6B,IAAIN,EAAEvB,EAAE8B,IAAIN,EAAExB,EAAE+B,OAAOL,EAAEM,KAAKrB,SAASsB,eAAejC,GAAGA,EAAE+B,YAAO,EAAOL,CAAC,GAAC,CAAAN,IAAA,YAAAC,MAAA,SAAUC,EAAEE,EAAEC,GAAO,IAAcP,GAAlBR,UAAAwB,OAAA,QAAAC,IAAAzB,UAAA,GAAAA,UAAA,GAAC,CAAC,GAAS0B,OAAYtB,EAAEkB,KAAKK,WAAWf,EAAEE,EAAEC,GAAGE,EAAE,CAACW,aAAa,QAAQF,OAAOlB,EAAEqB,OAAKC,EAAAA,EAAAA,GAAA,GAAKR,KAAKS,oBAAoB,OAAOlB,EAAAA,EAAAA,SAAG,OAADT,QAAC,IAADA,EAAAA,EAAG,GAAGa,GAAGe,MAAM,SAAApB,GAAC,OAAEA,EAAEqB,IAAI,GAAE,GAAC,CAAAvB,IAAA,uBAAAC,MAAA,eAAAuB,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAA,SAAAC,EAA2B1B,EAAEG,EAAEC,GAAC,IAAAuB,EAAA/B,EAAAJ,EAAAoC,EAAAvB,EAAAwB,EAAAC,EAAAC,EAAAC,EAAA5C,UAAA,OAAAoC,EAAAA,EAAAA,KAAAS,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAAmB,GAAC5C,GAAnBI,EAACoC,EAAApB,OAAA,QAAAC,IAAAmB,EAAA,GAAAA,EAAA,GAAC,CAAC,GAASlB,OAAeJ,KAAK2B,YAAY5D,EAAE6D,UAAUD,UAAS,CAAAH,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,EAAgB1B,KAAK2B,UAAUrC,EAAEG,EAAEC,EAAER,GAAE,OAA9B,OAADK,EAACiC,EAAAK,KAAAL,EAAAC,KAAA,EAAAD,EAAAM,OAAA,SAA0CC,kBAAkBxC,IAAE,cAAAiC,EAAAC,KAAA,GAAAD,EAAAQ,GAAAR,EAAA,SAAgB,IAAIhC,EAAAA,EAAE,iBAAgB,uBAAAyC,OAAwB3C,EAAC,KAAA2C,OAAIxC,EAAC,KAAAwC,OAAIvC,GAAI,CAACwC,MAAKV,EAAAQ,GAAGpC,MAAMN,EAAEO,IAAIJ,EAAEK,IAAIJ,IAAG,QAAuG,OAA/FC,EAAwB,QAAvBsB,EAACjB,KAAKK,WAAWf,EAAEG,EAAEC,UAAE,IAAAuB,EAAAA,EAAE,GAAGE,EAAE,CAACb,aAAa,OAAOF,OAAOtB,EAAEyB,OAAKC,EAAAA,EAAAA,GAAA,GAAKR,KAAKS,oBAAmBe,EAAAE,KAAA,IAAgBnC,EAAAA,EAAAA,SAAEI,EAAEwB,GAAE,QAAhB,OAAgBC,EAAAI,EAAAK,KAAfR,EAACD,EAANT,KAAIa,EAAAM,OAAA,UAAwBK,EAAAA,EAAAA,GAAEd,EAAE1B,IAAE,yBAAA6B,EAAAY,OAAA,GAAApB,EAAA,mBAAC,gBAAAqB,EAAAC,EAAAC,GAAA,OAAA3B,EAAAnC,MAAA,KAAAC,UAAA,EAA/Z,IAA+Z,CAAAU,IAAA,aAAAC,MAAA,WAAa,MAAM,IAAIG,EAAAA,EAAE,2CAA2C,kCAAkC,KAACzB,CAAA,CAAjlC,EAAesD,EAAAA,EAAAA,IAAEmB,EAAAA,EAAAA,IAAEC,EAAAA,EAAAA,GAAEtB,EAAAA,OAA8jC7B,EAAAA,EAAAA,GAAE,EAACG,EAAAA,EAAAA,IAAE,CAACT,KAAKJ,EAAAA,KAAKV,EAAE0D,UAAU,gBAAW,IAAQtC,EAAAA,EAAAA,GAAE,EAACG,EAAAA,EAAAA,IAAE,CAACT,KAAK,CAAC,OAAO,WAAWd,EAAE0D,UAAU,gBAAW,IAAQtC,EAAAA,EAAAA,GAAE,EAACG,EAAAA,EAAAA,IAAE,CAACiD,UAAS,EAAGrD,MAAM,eAAenB,EAAE0D,UAAU,YAAO,IAAQtC,EAAAA,EAAAA,GAAE,EAACG,EAAAA,EAAAA,IAAE,CAACkD,aAAY,KAAMzE,EAAE0D,UAAU,kBAAa,IAAQtC,EAAAA,EAAAA,GAAE,EAACG,EAAAA,EAAAA,OAAKvB,EAAE0D,UAAU,wBAAmB,GAAkD,IAAMgB,EAAhD1E,EAAEH,GAAEuB,EAAAA,EAAAA,GAAE,EAACI,EAAAA,EAAAA,GAAE,8BAA8BxB,G,8BCA17CH,EAAE,IAAI0B,EAAAA,EAAE,CAACoD,eAAe,SAASC,aAAa,OAAOC,eAAe,WAAgDC,EAAC,SAAAC,IAAA7E,EAAAA,EAAAA,GAAA4E,EAAAC,GAAA,IAAA5E,GAAAC,EAAAA,EAAAA,GAAA0E,GAA2B,SAAAA,EAAY1D,GAAE,IAAAf,EAA4lD,OAA5lDC,EAAAA,EAAAA,GAAA,KAAAwE,IAACzE,EAAAF,EAAA6E,KAAA,KAAM5D,IAAQN,KAAK,YAAYT,EAAKI,SAAS,IAAI6D,EAAAA,EAAE,CAACzD,KAAK,CAAC,IAAI,KAAKoE,IAAI,GAAGC,OAAO,IAAIX,EAAAA,EAAE,CAACY,GAAG,gBAAgBzE,EAAE,gBAAgBC,iBAAiBsC,EAAAA,EAAAA,cAAgBtC,iBAAiBsC,EAAAA,EAAAA,YAAcmC,KAAK,CAAC,IAAI1E,EAAAA,EAAE,CAACgB,MAAM,EAAE2D,WAAW,iBAAiBC,MAAM,mBAAmB,IAAI5E,EAAAA,EAAE,CAACgB,MAAM,EAAE2D,WAAW,iBAAiBC,MAAM,mBAAmB,IAAI5E,EAAAA,EAAE,CAACgB,MAAM,EAAE2D,WAAW,iBAAiBC,MAAM,kBAAkB,IAAI5E,EAAAA,EAAE,CAACgB,MAAM,EAAE2D,WAAW,iBAAiBC,MAAM,kBAAkB,IAAI5E,EAAAA,EAAE,CAACgB,MAAM,EAAE2D,WAAW,iBAAiBC,MAAM,kBAAkB,IAAI5E,EAAAA,EAAE,CAACgB,MAAM,EAAE2D,WAAW,iBAAiBC,MAAM,iBAAiB,IAAI5E,EAAAA,EAAE,CAACgB,MAAM,EAAE2D,WAAW,iBAAiBC,MAAM,iBAAiB,IAAI5E,EAAAA,EAAE,CAACgB,MAAM,EAAE2D,WAAW,gBAAgBC,MAAM,iBAAiB,IAAI5E,EAAAA,EAAE,CAACgB,MAAM,EAAE2D,WAAW,iBAAiBC,MAAM,iBAAiB,IAAI5E,EAAAA,EAAE,CAACgB,MAAM,GAAG2D,WAAW,iBAAiBC,MAAM,gBAAgB,IAAI5E,EAAAA,EAAE,CAACgB,MAAM,GAAG2D,WAAW,iBAAiBC,MAAM,gBAAgB,IAAI5E,EAAAA,EAAE,CAACgB,MAAM,GAAG2D,WAAW,iBAAiBC,MAAM,gBAAgB,IAAI5E,EAAAA,EAAE,CAACgB,MAAM,GAAG2D,WAAW,iBAAiBC,MAAM,eAAe,IAAI5E,EAAAA,EAAE,CAACgB,MAAM,GAAG2D,WAAW,iBAAiBC,MAAM,eAAe,IAAI5E,EAAAA,EAAE,CAACgB,MAAM,GAAG2D,WAAW,iBAAiBC,MAAM,eAAe,IAAI5E,EAAAA,EAAE,CAACgB,MAAM,GAAG2D,WAAW,iBAAiBC,MAAM,cAAc,IAAI5E,EAAAA,EAAE,CAACgB,MAAM,GAAG2D,WAAW,iBAAiBC,MAAM,cAAc,IAAI5E,EAAAA,EAAE,CAACgB,MAAM,GAAG2D,WAAW,iBAAiBC,MAAM,cAAc,IAAI5E,EAAAA,EAAE,CAACgB,MAAM,GAAG2D,WAAW,iBAAiBC,MAAM,cAAc,IAAI5E,EAAAA,EAAE,CAACgB,MAAM,GAAG2D,WAAW,kBAAkBC,MAAM,gBAAgBjF,EAAKa,IAAI,KAAKb,EAAKkF,MAAM,OAAOlF,EAAKmF,QAAQ,QAAQnF,EAAKoF,OAAO,KAAKpF,EAAKqF,UAAU,KAAKrF,EAAKsF,oBAAmB,EAAEtF,CAAA,CAA44E,OAA34EY,EAAAA,EAAAA,GAAA6D,EAAA,EAAA5D,IAAA,eAAA0E,IAAA,WAAmB,OAAO9D,KAAK+D,KAAK,eAAe,EAACC,IAAA,SAAiB1E,GAAGU,KAAKiE,KAAK,eAAe3E,EAAE,GAAC,CAAAF,IAAA,YAAA0E,IAAA,WAAgB,OAAOhF,EAAAA,EAAAA,IAAEkB,KAAKkE,cAAclE,KAAKkE,aAAaC,UAAU,IAAI,GAAC,CAAA/E,IAAA,uBAAA0E,IAAA,WAA2B,OAAO/F,EAAEqG,OAAOpE,KAAKyD,MAAM,GAAC,CAAArE,IAAA,WAAA0E,IAAA,WAAe,OAAOhF,EAAAA,EAAAA,IAAEkB,KAAKkE,cAAclE,KAAKkE,aAAaG,aAAa,IAAI,GAAC,CAAAjF,IAAA,OAAAC,MAAA,SAAKC,GAAE,IAAAgF,EAAA,KAAC,OAAOtE,KAAKZ,IAAIY,KAAKuE,oBAAoBvE,KAAKwE,gBAAgBxE,KAAK4D,UAAU5D,KAAKuE,oBAAoBvE,KAAKyE,oBAAoB/D,MAAM,kBAAI4D,EAAKE,cAAc,KAAIxE,KAAKuE,oBAAoBG,QAAQC,OAAO,IAAInF,EAAAA,EAAE,qBAAqB,oCAAoCkF,QAAQE,QAAQ5E,KAAK,GAAC,CAAAZ,IAAA,aAAAC,MAAA,SAAWC,EAAEC,EAAEC,GAAG,IAAIQ,KAAK6E,SAAQnF,EAAAA,EAAAA,IAAEM,KAAKkE,cAAc,OAAO,KAAK,IAAMzE,EAAEO,KAAKkE,aAAaY,aAAa,GAAGC,UAAU,GAAGjG,EAAEW,EAAEuF,mBAAmBzF,EAAEE,EAAEuF,mBAAmB9E,QAAQhB,EAAEc,KAAKiF,YAAY3F,EAAEC,EAAEC,GAAG,OAAOC,EAAEyF,SAASC,QAAQ,cAAcrG,GAAGqG,QAAQ,YAAYjG,EAAE,GAAC,CAAAE,IAAA,uBAAAC,MAAA,eAAA+F,GAAAvE,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAA,SAAAC,IAAA,IAAAqE,EAAA,YAAAvE,EAAAA,EAAAA,KAAAS,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAM,OAAA,SAAoC9B,KAAKsF,OAAO5E,MAAM,WAAK,OAAGhB,EAAAA,EAAAA,IAAE2F,EAAKnB,cAAqB,KAAW,CAACqB,aAAaF,EAAKnB,aAAaY,aAAa,GAAGC,UAAU,GAAGS,iBAAiBC,KAAK,SAAAnG,GAAC,MAAG,CAACoG,YAAYpG,EAAEoG,YAAYC,cAAcrG,EAAEqG,cAAcF,KAAK,SAAAnG,GAAC,MAAG,CAACsG,QAAQtG,EAAEsG,QAAQC,QAAQvG,EAAEuG,QAAQC,MAAM,EAAEC,KAAK,CAACzG,EAAEyG,KAAK,GAAGzG,EAAEyG,KAAK,GAAGzG,EAAEyG,KAAK,GAAGzG,EAAEyG,KAAK,IAAI,IAAI,IAAI,KAAG,wBAAAvE,EAAAY,OAAA,GAAApB,EAAA,UAAC,yBAAAoE,EAAA3G,MAAA,KAAAC,UAAA,EAAtW,IAAsW,CAAAU,IAAA,eAAAC,MAAA,WAAc,IAAA2G,EAAA,KAAO1G,EAAE,CAAC2G,KAAK,eAAeC,OAAO,SAASC,OAAO,4BAA4BnG,KAAKyD,OAAO,OAAOlE,EAAAA,EAAAA,SAAE,GAAD0C,OAA5+F,+BAAi/F,8BAAAA,OAA6B3C,GAAI,CAACgB,aAAa,OAAOC,MAAM,CAAC6F,QAAQ,mBAAmBC,UAAU,QAAQjH,IAAIY,KAAKZ,IAAIkH,gBAAe,EAAGC,OAAO,OAAO7C,QAAQ1D,KAAK0D,QAAQ8C,WAAWxG,KAAK2D,UAAUjD,MAAM,SAAApB,GAAI,IAAMC,EAAED,EAAEqB,KAAK,GAAG,MAAMpB,EAAEkH,WAAW,MAAM,IAAIjH,EAAAA,EAAE,4BAA4BD,EAAEmH,mBAAmB,GAAGV,EAAK9B,aAAa3E,EAAE,IAAIyG,EAAK9B,aAAaY,aAAa5E,OAAO,MAAM,IAAIV,EAAAA,EAAE,4BAA4B,wBAAwB,GAAG,IAAIwG,EAAK9B,aAAaY,aAAa,GAAGC,UAAU7E,OAAO,MAAM,IAAIV,EAAAA,EAAE,4BAA4B,oBAAoB,IAAImH,OAAO,SAAArH,GAAI,MAAM,IAAIE,EAAAA,EAAE,4BAA4BF,EAAEsH,QAAQ,GAAG,GAAC,CAAAxH,IAAA,oBAAAC,MAAA,WAAmB,IAAAwH,EAAAC,EAAA,KAAC,OAAOvH,EAAAA,EAAAA,SAAgB,QAAfsH,EAAC7G,KAAK4D,iBAAS,IAAAiD,EAAAA,EAAE,GAAG,CAACvG,aAAa,OAAOyG,SAAS,YAAYxG,MAAM,CAAC4B,EAAE,UAAUzB,MAAM,SAAApB,GAAI,IAAIA,EAAEqB,KAAKqG,QAAQ,MAAM,IAAIxH,EAAAA,EAAE,iCAAiC,2DAA2DsH,EAAK1H,IAAIE,EAAEqB,KAAKqG,OAAO,IAAIL,OAAO,SAAArH,GAAI,MAAM,IAAIE,EAAAA,EAAE,iCAAiCF,EAAEsH,QAAQ,GAAG,GAAC,CAAAxH,IAAA,cAAAC,MAAA,SAAYC,EAAEC,EAAEC,GAAY,IAAT,IAAIC,EAAE,GAAWX,EAAEQ,EAAER,EAAE,EAAEA,IAAI,CAAC,IAAIQ,EAAE,EAAQI,EAAE,GAAGZ,EAAE,EAAE,IAAIU,EAAEE,KAAKJ,GAAG,GAAG,IAAIC,EAAEG,KAAKJ,GAAG,GAAGG,GAAGH,EAAE2H,UAAU,CAAC,OAAOxH,CAAC,KAACuD,CAAA,CAAjhI,EAAe9E,EAAAA,EAAAA,IAAEF,EAAAA,EAAAA,IAAEkB,EAAAA,EAAAA,GAAEjB,OAA8/HqB,EAAAA,EAAAA,GAAE,EAAC+B,EAAAA,EAAAA,IAAE,CAAC6F,KAAK,CAACC,MAAK,EAAGC,OAAM,GAAI/H,MAAM,QAAQ2D,EAAEpB,UAAU,eAAe,OAAMtC,EAAAA,EAAAA,GAAE,EAAC+B,EAAAA,EAAAA,IAAE,CAAC6F,KAAK,CAACC,MAAK,EAAGC,OAAM,GAAI/H,MAAM,YAAYqD,UAAS,KAAMM,EAAEpB,UAAU,YAAO,IAAQtC,EAAAA,EAAAA,GAAE,EAAC+B,EAAAA,EAAAA,IAAE,CAACrC,KAAKwD,EAAAA,KAAKQ,EAAEpB,UAAU,gBAAW,IAAQtC,EAAAA,EAAAA,GAAE,EAAC+B,EAAAA,EAAAA,IAAE,CAACrC,KAAKqI,OAAO3E,UAAS,EAAGwE,KAAK,CAACC,MAAK,EAAGC,OAAM,MAAOpE,EAAEpB,UAAU,YAAY,OAAMtC,EAAAA,EAAAA,GAAE,EAAC+B,EAAAA,EAAAA,IAAE,CAACrC,KAAKqI,OAAOH,KAAK,CAACE,OAAM,EAAGD,MAAK,MAAOnE,EAAEpB,UAAU,WAAM,IAAQtC,EAAAA,EAAAA,GAAE,EAAC+B,EAAAA,EAAAA,IAAE,CAACrC,KAAKjB,EAAEuJ,UAAU3E,aAAY,EAAGuE,KAAK,CAACC,KAAK,CAACI,OAAO,YAAYC,OAAOzJ,EAAEoJ,UAAUnE,EAAEpB,UAAU,aAAQ,IAAQtC,EAAAA,EAAAA,GAAE,EAAC+B,EAAAA,EAAAA,IAAE,CAACrC,KAAK,CAAC,iBAAiB,iBAAiB,mBAAmBgE,EAAEpB,UAAU,uBAAuB,OAAMtC,EAAAA,EAAAA,GAAE,EAAC+B,EAAAA,EAAAA,IAAE,CAACrC,KAAKqI,OAAOH,KAAK,CAACE,OAAM,EAAGD,MAAK,MAAOnE,EAAEpB,UAAU,eAAU,IAAQtC,EAAAA,EAAAA,GAAE,EAAC+B,EAAAA,EAAAA,IAAE,CAACrC,KAAKqI,OAAOH,KAAK,CAACE,OAAM,EAAGD,MAAK,MAAOnE,EAAEpB,UAAU,cAAS,IAAQtC,EAAAA,EAAAA,GAAE,EAAC+B,EAAAA,EAAAA,IAAE,CAACrC,KAAKqI,OAAOH,KAAK,CAACE,OAAM,EAAGD,MAAK,MAAOnE,EAAEpB,UAAU,iBAAY,IAAQtC,EAAAA,EAAAA,GAAE,EAAC+B,EAAAA,EAAAA,IAAE,CAACrC,KAAKyI,QAAQP,KAAK,CAACE,OAAM,EAAGD,MAAK,MAAOnE,EAAEpB,UAAU,0BAAqB,IAAQtC,EAAAA,EAAAA,GAAE,EAAC+B,EAAAA,EAAAA,IAAE,CAACrC,KAAKqI,OAAO3E,UAAS,KAAMM,EAAEpB,UAAU,WAAW,MAA8C,IAAM8F,EAA9C1E,GAAE1D,EAAAA,EAAAA,GAAE,EAACK,EAAAA,EAAAA,GAAE,8BAA8BqD,E,6FCAl5L,SAAe1D,EAAC+C,EAAAC,GAAA,OAAAqF,EAAAlJ,MAAC,KAADC,UAAA,UAAAiJ,IAA0H,OAA1HA,GAAA9G,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAhB,SAAAC,EAAiB1B,EAAEC,GAAC,OAAAuB,EAAAA,EAAAA,KAAAS,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAAmBK,kBAAkBzC,GAAE,cAAAkC,EAAAM,OAAA,SAAAN,EAAAK,MAAA,aAAAL,EAAAC,KAAA,EAAAD,EAAAQ,GAAAR,EAAA,SAAgB,IAAIhC,EAAAA,EAAE,iBAAgB,kBAAAyC,OAAmB1C,GAAI,CAACqI,IAAIrI,EAAE2C,MAAKV,EAAAQ,KAAI,wBAAAR,EAAAY,OAAA,GAAApB,EAAA,kBAAE2G,EAAAlJ,MAAA,KAAAC,UAAA,C","sources":["../node_modules/@arcgis/core/layers/BaseTileLayer.js","../node_modules/@arcgis/core/layers/BingMapsLayer.js","../node_modules/@arcgis/core/layers/support/imageBitmapUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../request.js\";import r from\"../core/Error.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import i from\"../geometry/Extent.js\";import a from\"../geometry/SpatialReference.js\";import{create as l}from\"../geometry/support/aaBoundingRect.js\";import p from\"./Layer.js\";import{BlendLayer as n}from\"./mixins/BlendLayer.js\";import{RefreshableLayer as m}from\"./mixins/RefreshableLayer.js\";import{ScaleRangeLayer as c}from\"./mixins/ScaleRangeLayer.js\";import{createBitmap as f}from\"./support/imageBitmapUtils.js\";import y from\"./support/TileInfo.js\";import{TileKey as u}from\"./support/TileKey.js\";var h;const d=new u(\"0/0/0\",0,0,0,void 0);let g=h=class extends(n(c(m(p)))){constructor(){super(...arguments),this.tileInfo=y.create({spatialReference:a.WebMercator,size:256}),this.type=\"base-tile\",this.fullExtent=new i(-20037508.342787,-20037508.34278,20037508.34278,20037508.342787,a.WebMercator),this.spatialReference=a.WebMercator}getTileBounds(e,t,r,o){const s=o||l();return d.level=e,d.row=t,d.col=r,d.extent=s,this.tileInfo.updateTileInfo(d),d.extent=void 0,s}fetchTile(e,r,o,s={}){const{signal:i}=s,a=this.getTileUrl(e,r,o),l={responseType:\"image\",signal:i,query:{...this.refreshParameters}};return t(a??\"\",l).then((e=>e.data))}async fetchImageBitmapTile(e,o,s,i={}){const{signal:a}=i;if(this.fetchTile!==h.prototype.fetchTile){const t=await this.fetchTile(e,o,s,i);try{return createImageBitmap(t)}catch(m){throw new r(\"request:server\",`Unable to load tile ${e}/${o}/${s}`,{error:m,level:e,row:o,col:s})}}const l=this.getTileUrl(e,o,s)??\"\",p={responseType:\"blob\",signal:a,query:{...this.refreshParameters}},{data:n}=await t(l,p);return f(n,l)}getTileUrl(){throw new r(\"basetilelayer:gettileurl-not-implemented\",\"getTileUrl() is not implemented\")}};e([o({type:y})],g.prototype,\"tileInfo\",void 0),e([o({type:[\"show\",\"hide\"]})],g.prototype,\"listMode\",void 0),e([o({readOnly:!0,value:\"base-tile\"})],g.prototype,\"type\",void 0),e([o({nonNullable:!0})],g.prototype,\"fullExtent\",void 0),e([o()],g.prototype,\"spatialReference\",void 0),g=h=e([s(\"esri.layers.BaseTileLayer\")],g);const j=g;export{j as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../geometry.js\";import t from\"../request.js\";import r from\"../core/Error.js\";import{JSONMap as o}from\"../core/jsonMap.js\";import{isSome as a,isNone as s}from\"../core/maybe.js\";import{MultiOriginJSONMixin as i}from\"../core/MultiOriginJSONSupport.js\";import{property as n}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import{subclass as l}from\"../core/accessorSupport/decorators/subclass.js\";import p from\"../geometry/SpatialReference.js\";import u from\"./BaseTileLayer.js\";import{BlendLayer as g}from\"./mixins/BlendLayer.js\";import{OperationalLayer as d}from\"./mixins/OperationalLayer.js\";import y from\"./support/LOD.js\";import c from\"./support/TileInfo.js\";import m from\"../geometry/Point.js\";const h=new o({BingMapsAerial:\"aerial\",BingMapsRoad:\"road\",BingMapsHybrid:\"hybrid\"}),b=\"https://dev.virtualearth.net\";let w=class extends(g(d(i(u)))){constructor(e){super(e),this.type=\"bing-maps\",this.tileInfo=new c({size:[256,256],dpi:96,origin:new m({x:-20037508.342787,y:20037508.342787,spatialReference:p.WebMercator}),spatialReference:p.WebMercator,lods:[new y({level:1,resolution:78271.5169639999,scale:295828763.795777}),new y({level:2,resolution:39135.7584820001,scale:147914381.897889}),new y({level:3,resolution:19567.8792409999,scale:73957190.948944}),new y({level:4,resolution:9783.93962049996,scale:36978595.474472}),new y({level:5,resolution:4891.96981024998,scale:18489297.737236}),new y({level:6,resolution:2445.98490512499,scale:9244648.868618}),new y({level:7,resolution:1222.99245256249,scale:4622324.434309}),new y({level:8,resolution:611.49622628138,scale:2311162.217155}),new y({level:9,resolution:305.748113140558,scale:1155581.108577}),new y({level:10,resolution:152.874056570411,scale:577790.554289}),new y({level:11,resolution:76.4370282850732,scale:288895.277144}),new y({level:12,resolution:38.2185141425366,scale:144447.638572}),new y({level:13,resolution:19.1092570712683,scale:72223.819286}),new y({level:14,resolution:9.55462853563415,scale:36111.909643}),new y({level:15,resolution:4.77731426794937,scale:18055.954822}),new y({level:16,resolution:2.38865713397468,scale:9027.977411}),new y({level:17,resolution:1.19432856685505,scale:4513.988705}),new y({level:18,resolution:.597164283559817,scale:2256.994353}),new y({level:19,resolution:.298582141647617,scale:1128.497176}),new y({level:20,resolution:.1492910708238085,scale:564.248588})]}),this.key=null,this.style=\"road\",this.culture=\"en-US\",this.region=null,this.portalUrl=null,this.hasAttributionData=!0}get bingMetadata(){return this._get(\"bingMetadata\")}set bingMetadata(e){this._set(\"bingMetadata\",e)}get copyright(){return a(this.bingMetadata)?this.bingMetadata.copyright:null}get operationalLayerType(){return h.toJSON(this.style)}get bingLogo(){return a(this.bingMetadata)?this.bingMetadata.brandLogoUri:null}load(e){return this.key?this.addResolvingPromise(this._getMetadata()):this.portalUrl?this.addResolvingPromise(this._getPortalBingKey().then((()=>this._getMetadata()))):this.addResolvingPromise(Promise.reject(new r(\"bingmapslayer:load\",\"Bing layer must have bing key.\"))),Promise.resolve(this)}getTileUrl(e,t,r){if(!this.loaded||s(this.bingMetadata))return null;const o=this.bingMetadata.resourceSets[0].resources[0],a=o.imageUrlSubdomains[t%o.imageUrlSubdomains.length],i=this._getQuadKey(e,t,r);return o.imageUrl.replace(\"{subdomain}\",a).replace(\"{quadkey}\",i)}async fetchAttributionData(){return this.load().then((()=>{if(s(this.bingMetadata))return null;return{contributors:this.bingMetadata.resourceSets[0].resources[0].imageryProviders.map((e=>({attribution:e.attribution,coverageAreas:e.coverageAreas.map((e=>({zoomMin:e.zoomMin,zoomMax:e.zoomMax,score:1,bbox:[e.bbox[0],e.bbox[1],e.bbox[2],e.bbox[3]]})))})))}}))}_getMetadata(){const e={road:\"roadOnDemand\",aerial:\"aerial\",hybrid:\"aerialWithLabelsOnDemand\"}[this.style];return t(`${b}/REST/v1/Imagery/Metadata/${e}`,{responseType:\"json\",query:{include:\"ImageryProviders\",uriScheme:\"https\",key:this.key,suppressStatus:!0,output:\"json\",culture:this.culture,userRegion:this.region}}).then((e=>{const t=e.data;if(200!==t.statusCode)throw new r(\"bingmapslayer:getmetadata\",t.statusDescription);if(this.bingMetadata=t,0===this.bingMetadata.resourceSets.length)throw new r(\"bingmapslayer:getmetadata\",\"no bing resourcesets\");if(0===this.bingMetadata.resourceSets[0].resources.length)throw new r(\"bingmapslayer:getmetadata\",\"no bing resources\")})).catch((e=>{throw new r(\"bingmapslayer:getmetadata\",e.message)}))}_getPortalBingKey(){return t(this.portalUrl??\"\",{responseType:\"json\",authMode:\"no-prompt\",query:{f:\"json\"}}).then((e=>{if(!e.data.bingKey)throw new r(\"bingmapslayer:getportalbingkey\",\"The referenced Portal does not contain a valid bing key\");this.key=e.data.bingKey})).catch((e=>{throw new r(\"bingmapslayer:getportalbingkey\",e.message)}))}_getQuadKey(e,t,r){let o=\"\";for(let a=e;a>0;a--){let e=0;const s=1<<a-1;0!=(r&s)&&(e+=1),0!=(t&s)&&(e+=2),o+=e.toString()}return o}};e([n({json:{read:!1,write:!1},value:null})],w.prototype,\"bingMetadata\",null),e([n({json:{read:!1,write:!1},value:\"bing-maps\",readOnly:!0})],w.prototype,\"type\",void 0),e([n({type:c})],w.prototype,\"tileInfo\",void 0),e([n({type:String,readOnly:!0,json:{read:!1,write:!1}})],w.prototype,\"copyright\",null),e([n({type:String,json:{write:!1,read:!1}})],w.prototype,\"key\",void 0),e([n({type:h.apiValues,nonNullable:!0,json:{read:{source:\"layerType\",reader:h.read}}})],w.prototype,\"style\",void 0),e([n({type:[\"BingMapsAerial\",\"BingMapsHybrid\",\"BingMapsRoad\"]})],w.prototype,\"operationalLayerType\",null),e([n({type:String,json:{write:!1,read:!1}})],w.prototype,\"culture\",void 0),e([n({type:String,json:{write:!1,read:!1}})],w.prototype,\"region\",void 0),e([n({type:String,json:{write:!0,read:!0}})],w.prototype,\"portalUrl\",void 0),e([n({type:Boolean,json:{write:!1,read:!1}})],w.prototype,\"hasAttributionData\",void 0),e([n({type:String,readOnly:!0})],w.prototype,\"bingLogo\",null),w=e([l(\"esri.layers.BingMapsLayer\")],w);const v=w;export{v as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport r from\"../../core/Error.js\";async function e(e,t){try{return await createImageBitmap(e)}catch(o){throw new r(\"request:server\",`Unable to load ${t}`,{url:t,error:o})}}export{e as createBitmap};\n"],"names":["h","d","u","g","_n","_inherits","_super","_createSuper","_this","_classCallCheck","apply","arguments","tileInfo","y","spatialReference","a","size","type","fullExtent","i","_createClass","key","value","e","t","r","o","s","l","level","row","col","extent","this","updateTileInfo","length","undefined","signal","getTileUrl","responseType","query","_objectSpread","refreshParameters","then","data","_fetchImageBitmapTile","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_this$getTileUrl","_t","p","_yield$t","n","_args","wrap","_context","prev","next","fetchTile","prototype","sent","abrupt","createImageBitmap","t0","concat","error","f","stop","_x","_x2","_x3","c","m","readOnly","nonNullable","j","BingMapsAerial","BingMapsRoad","BingMapsHybrid","w","_g","call","dpi","origin","x","lods","resolution","scale","style","culture","region","portalUrl","hasAttributionData","get","_get","set","_set","bingMetadata","copyright","toJSON","brandLogoUri","_this2","addResolvingPromise","_getMetadata","_getPortalBingKey","Promise","reject","resolve","loaded","resourceSets","resources","imageUrlSubdomains","_getQuadKey","imageUrl","replace","_fetchAttributionData","_this3","load","contributors","imageryProviders","map","attribution","coverageAreas","zoomMin","zoomMax","score","bbox","_this4","road","aerial","hybrid","include","uriScheme","suppressStatus","output","userRegion","statusCode","statusDescription","catch","message","_this$portalUrl","_this5","authMode","bingKey","toString","json","read","write","String","apiValues","source","reader","Boolean","v","_e","url"],"sourceRoot":""}